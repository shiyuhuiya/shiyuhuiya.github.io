<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>uniapp | 三叶的博客</title><meta name="author" content="三叶sanye"><meta name="copyright" content="三叶sanye"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="笔记内容主要参考uni-app官方文档，仔细阅读uni-app官方文档 介绍和教程等部分能获得更多内容。  什么是uni-app是一个使用 Vue.js 开发所有前端应用的框架，开发者编写一套代码，可发布到iOS、Android、Web（响应式）、以及各种小程快应用等多个平台。 uni-app的由来：uni-app官网 HBuilderXHBuilderX是通用的前端开发工具，但为uni-app"><meta property="og:type" content="article"><meta property="og:title" content="uniapp"><meta property="og:url" content="https://www.sanye.blog/posts/e19785da.html"><meta property="og:site_name" content="三叶的博客"><meta property="og:description" content="笔记内容主要参考uni-app官方文档，仔细阅读uni-app官方文档 介绍和教程等部分能获得更多内容。  什么是uni-app是一个使用 Vue.js 开发所有前端应用的框架，开发者编写一套代码，可发布到iOS、Android、Web（响应式）、以及各种小程快应用等多个平台。 uni-app的由来：uni-app官网 HBuilderXHBuilderX是通用的前端开发工具，但为uni-app"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.sanye.blog/images/cover/%E4%BA%91%E6%B9%96%E5%B0%91%E5%A5%B3.jpg"><meta property="article:published_time" content="2025-01-22T13:12:44.000Z"><meta property="article:modified_time" content="2025-03-13T16:03:56.420Z"><meta property="article:author" content="三叶sanye"><meta property="article:tag" content="uniapp"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.sanye.blog/images/cover/%E4%BA%91%E6%B9%96%E5%B0%91%E5%A5%B3.jpg"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://www.sanye.blog/posts/e19785da.html"><link rel="preconnect" href="//unpkg.com"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://unpkg.com/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><script>(()=>{const t={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:t,getScript:(e,t={})=>new Promise(((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach((([e,t])=>n.setAttribute(e,t))),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)})),getCSS:(e,t)=>new Promise(((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)})),addGlobalFn:(e,t,o=!1,a=window)=>{if(e.startsWith("pjax"))return;const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const o=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},a=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};btf.activateDarkMode=o,btf.activateLightMode=a;const n=t.get("theme"),r=window.matchMedia("(prefers-color-scheme: dark)"),c=window.matchMedia("(prefers-color-scheme: light)");if(void 0===n){if(c.matches)a();else if(r.matches)o();else{const e=(new Date).getHours();e<=6||e>=18?o():a()}r.addEventListener("change",(()=>{void 0===t.get("theme")&&(e.matches?o():a())}))}else"light"===n?a():o();const d=t.get("aside-status");void 0!==d&&document.documentElement.classList.toggle("hide-aside","hide"===d);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:1,unescape:!1,languages:{hits_empty:"未找到符合您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1,highlightFullpage:!1,highlightMacStyle:!1},copy:{success:"复制成功",error:"复制失败",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"null",Snackbar:{chs_to_cht:"已切换为繁体中文",cht_to_chs:"已切换为简体中文",day_to_night:"已切换为深色模式",night_to_day:"已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"bottom-center"},infinitegrid:{js:"https://unpkg.com/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"uniapp",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,isShuoshuo:!1}</script><link rel="stylesheet" href="/css/bilibiliBanner.css" media="defer" onload='this.media="screen"'><link rel="stylesheet" href="/css/mouse.css"><link rel="stylesheet" href="/css/time.css"><link rel="stylesheet" href="/css/iconfont.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="iron-container iron-circle"><div class="iron-box1 iron-circle iron-center"></div><div class="iron-box2 iron-circle iron-center"></div><div class="iron-box3 iron-circle iron-center"></div><div class="iron-box4 iron-circle iron-center"></div><div class="iron-box5 iron-circle iron-center"></div><div class="iron-box6 iron-circle"><div class="iron-coil" style="--i:0"></div><div class="iron-coil" style="--i:1"></div><div class="iron-coil" style="--i:2"></div><div class="iron-coil" style="--i:3"></div><div class="iron-coil" style="--i:4"></div><div class="iron-coil" style="--i:5"></div><div class="iron-coil" style="--i:6"></div><div class="iron-coil" style="--i:7"></div></div></div></div><script>(()=>{const d=document.getElementById("loading-box"),e=document.body,o=()=>{e.style.overflow="",d.classList.add("loaded")},l=()=>{e.style.overflow="hidden",d.classList.remove("loaded")};l(),window.addEventListener("load",o)})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/images/%E4%B8%89%E5%8F%B6.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">24</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/images/cover/云湖少女.png)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name iconfont icon-sanyecao">三叶的博客</span></a><a class="nav-page-title" href="/"><span class="site-name iconfont icon-sanyecao">uniapp</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">uniapp<a class="post-edit-link" href="https://github.com/shiyuhuiya/shiyuhuiya.github.io/issues_posts/uni-app.md" rel="external nofollow noreferrer" title="编辑" target="_blank"><i class="fas fa-pencil-alt"></i></a></h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-01-22T13:12:44.000Z" title="发表于 2025-01-22 21:12:44">2025-01-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-03-13T16:03:56.420Z" title="更新于 2025-03-14 00:03:56">2025-03-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/uniapp/">uniapp</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">15k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>51分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:365,&quot;messagePrev&quot;:&quot;It has been&quot;,&quot;messageNext&quot;:&quot;days since the last update, the content of the article may be outdated.&quot;,&quot;postUpdate&quot;:&quot;2025-03-14 00:03:56&quot;}" hidden></div><blockquote><p>笔记内容主要参考uni-app官方文档，仔细阅读<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/">uni-app官方文档</a> <strong>介绍</strong>和<strong>教程</strong>等部分能获得更多内容。</p></blockquote><h2 id="什么是uni-app"><a href="#什么是uni-app" class="headerlink" title="什么是uni-app"></a>什么是uni-app</h2><p>是一个使用 <code>Vue.js</code> 开发所有前端应用的<strong>框架</strong>，开发者编写一套代码，可发布到iOS、Android、Web（响应式）、以及各种小程快应用等多个平台。</p><p>uni-app的由来：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/history.html">uni-app官网</a></p><h2 id="HBuilderX"><a href="#HBuilderX" class="headerlink" title="HBuilderX"></a>HBuilderX</h2><p>HBuilderX是通用的前端开发工具，但为<code>uni-app</code>做了特别强化，和uni-app属于同一家公司的产品。</p><h3 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h3><ul><li>插件下载：工具-&gt;插件下载</li><li>快捷方式定制：工具-&gt;预定快捷方案</li><li>tab补全代码：工具-&gt;设置-&gt;语言服务配置</li><li>保存代码格式化：工具-&gt;设置-&gt;编辑器配置</li><li>合并代码时显示最后一行代码：工具-&gt;设置-&gt;编辑器配置</li></ul><h3 id="创建一个uni-app项目"><a href="#创建一个uni-app项目" class="headerlink" title="创建一个uni-app项目"></a>创建一个uni-app项目</h3><p>在点击工具栏里的文件 -&gt; 新建 -&gt; 项目</p><p>选择<code>uni-app</code>类型，输入工程名，选择<strong>模板</strong>，点击创建，即可成功创建。</p><img src="..\images\uni-app\1.png" style="zoom:80%"><p>uni-app自带的模板有默认的<code>空项目</code>模板、Hello uni-app 官方组件和API示例，还有一个重要模板是 <code>uni ui</code>项目模板，日常开发推荐使用该模板，已内置大量常用组件。</p><p>也可以使用<code>vue-cli</code>命令行开发，不过个人还是喜欢使用HBuilder。</p><h3 id="运行uni-app"><a href="#运行uni-app" class="headerlink" title="运行uni-app"></a>运行uni-app</h3><p>点击左上角的<code>运行</code>选项，即可选择项目的运行方式</p><img src="..\images\uni-app\3.png" style="zoom:67%"><p>如果要运行到手机，需要连接usb，在设置中开启USB调试。如果要运行到手机模拟器，则需要先下载，比如逍遥，雷电模拟器，然后打开这些应用，才能被hbuilder检测到。</p><p>将项目运行到<code>微信开发者工具</code>：</p><ul><li><p>AppID</p><p>在<code>manifest-&gt;微信小程序配置</code>中填写自己的微信小程序的 <code>AppID</code>，这个是需要我们去申请的</p></li><li><p>安装路径</p><p>在<code>设置</code>中配置“微信开发者工具”的安装路径，只有配置了微信开发者工具路径，hx才能打开微信开发者工具</p><img src="..\images\uni-app\2.png" style="zoom:80%"></li><li><p>开启服务端口</p><p>在微信开发者工具中，通过 <code>设置 -&gt; 安全设置面板</code>，开启微信开发者工具的<code>服务端口</code></p></li></ul><h3 id="发布uni-app"><a href="#发布uni-app" class="headerlink" title="发布uni-app"></a>发布uni-app</h3><h4 id="打包为原生App"><a href="#打包为原生App" class="headerlink" title="打包为原生App"></a>打包为原生App</h4><p>在打包之前也需要在<code>manifest.json</code> 的可视化界面做相关配置。</p><ul><li>在基础配置面板中，获取uni-app 应用标识，并填写应用名称</li><li>切换到 App 图标配置面板，点击浏览按钮，选择合适的图片之后，再点击自动生成所有图标并替换</li></ul><p>在HBuilderX工具栏，点击<code>发行</code>，选择<code>原生app-云端打包</code>（在线打包），云端打包支持安心打包，保护用户隐私，不会上传代码和证书，通过差量包制作方式实现安心打包，缺点是可能需要排队。云打包完成后，在<code>内置控制台</code>点击链接下载 apk 的安装包，并安装到 Android 手机中查看打包的效果。</p><p>虽然安心打包已经满足需求，但如仍然希望自己使用 xcode 或 Android studio 进行离线打包，则在 HBuilderX 发行菜单里找到本地打包菜单，生成离线打包资源，然后参考离线打包文档操作：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://nativesupport.dcloud.net.cn/AppDocs/README">https://nativesupport.dcloud.net.cn/AppDocs/README</a></p><p>App打包时，注意如果涉及三方sdk，需进行申请并在<code>manifest.json</code>里配置，否则相关功能无法使用。</p><p>iOS App打包需要向Apple申请证书</p><h4 id="发布为Web网站"><a href="#发布为Web网站" class="headerlink" title="发布为Web网站"></a>发布为Web网站</h4><p>在 <code>manifest.json</code> 的可视化界面，进行如下配置</p><img src="..\images\uni-app\4.png" style="zoom:80%"><p>如果使用history路由，就需要<code>后端服务器</code>做对应的配置，具体原因参考<a href="https://www.sanye.blog/posts/f33bd2b9.html">前端面试—vue部分 | 三叶的博客</a>中前端路由部分。</p><p>当我们令运行时的基础路径为<code>/api/</code>，打包后index.html引入文件的路径就会变成如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">crossorigin</span> <span class="attr">src</span>=<span class="string">&quot;/api/assets/index-yJj5sN9l.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">crossorigin</span> <span class="attr">href</span>=<span class="string">&quot;/api/assets/index-Dl1z_jWj.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在HBuilderX工具栏，点击发行，选择<code>网站-H5</code>，点击会弹出这个窗口：</p><img src="..\images\uni-app\5.png" style="zoom:80%"><p>无需在意，直接点击发行，即可生成 H5 的相关资源文件，保存于<code>unpackage/dist/build/web</code> 目录。</p><p>至于部署打包后的网页，其实和部署博客一样，可以借助<code>github-pages+vercel</code>，或者使用dcloud免费的网页托管服务。</p><h4 id="发布为微信小程序"><a href="#发布为微信小程序" class="headerlink" title="发布为微信小程序"></a>发布为微信小程序</h4><ol><li><p>申请微信小程序AppID，参考：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://developers.weixin.qq.com/miniprogram/dev/framework/quickstart/getstart.html#%E7%94%B3%E8%AF%B7%E5%B8%90%E5%8F%B7">微信教程</a>。</p></li><li><p>在HBuilderX中顶部菜单依次点击 “发行” &#x3D;&gt; “小程序-微信”，输入小程序名称和appid点击发行即可</p><img src="..\images\uni-app\6.png" style="zoom:80%"></li></ol><p>如果手动发行(未勾选<code>自动上传微信平台</code>)，则点击发行按钮后，会在项目的目录 <code>unpackage/dist/build/mp-weixin</code> 生成微信小程序<code>项目代码</code>。打开微信小程序开发者工具，<code>导入</code>生成的微信小程序项目，测试项目代码运行正常后，点击<code>上传</code>按钮，之后按照 <code>提交审核=&gt; 发布</code>小程序标准流程，逐步操作即可，详细查看：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://developers.weixin.qq.com/miniprogram/dev/framework/quickstart/release.html#%E5%8F%91%E5%B8%83%E4%B8%8A%E7%BA%BF">微信官方教程</a>。</p><p>如果在发行界面勾选了<code>自动上传微信平台</code>，则无需再打开<code>微信工具</code>手动操作，将<code>直接</code>上传到微信服务器提交审核。</p><h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><p>下面只展示基础的项目结构，更详细的结构可以参考官方文档。</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">│─components            符合vue组件规范的uni-app组件目录</span><br><span class="line">│  └─comp-a.vue         可复用的a组件</span><br><span class="line">├─pages                 业务页面文件存放的目录</span><br><span class="line">│  ├─index</span><br><span class="line">│  │  └─index.vue       index页面</span><br><span class="line">│  └─list</span><br><span class="line">│     └─list.vue        list页面</span><br><span class="line">├─static                存放应用引用的本地静态资源（如图片、视频等）的目录，注意：静态资源都应存放于此目录</span><br><span class="line">├─uni_modules           存放uni_module 详见</span><br><span class="line">├─unpackage             非工程代码，一般存放运行或发行的编译结果</span><br><span class="line">├─main.js               Vue初始化入口文件</span><br><span class="line">├─App.vue               应用配置，用来配置App全局样式以及监听 应用生命周期</span><br><span class="line">├─pages.json            配置页面路由、导航条、选项卡等页面类信息，详见</span><br><span class="line">├─manifest.json         配置应用名称、appid、logo、版本等打包信息，详见</span><br><span class="line">└─uni.scss              内置的常用样式变量</span><br></pre></td></tr></table></figure><p>微信小程序中的一个页面就是一个文件夹，然后里面有四个文件，分别对应html，css，js，json文件，而在uni-app中，一个vue文件就包含了前三者，然后页面json文件被page.json中的pages.style属性给替代了。</p><h3 id="page-json"><a href="#page-json" class="headerlink" title="page.json"></a><strong>page.json</strong></h3><p>项目页面的配置文件 ，类似微信小程序中的<code>app.json</code>，这种命名方式貌似着重强调了pages属性。</p><p>主要组成：</p><ul><li><p>globalStyles：<code>全局定义</code>页面的样式，会被pages中页面单独定义的样式覆盖</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;globalStyle&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;navigationBarTextStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;black&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;navigationBarBackgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#fff&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;backgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#F8F8F8&quot;</span></span><br><span class="line">    <span class="comment">// &quot;navigationStyle&quot;: &quot;custom&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p>可以看出，<code>page.json</code>文件中的<code>globalStyles</code>属性替换了微信小程序中的<code>app.json</code>文件中的<code>window</code>属性</p></li><li><p>pages：注册页面的地方；值是一个数组，数组元素是一个一个的页面对象，<strong>第一个页面对象就是首屏</strong>，这些页面都会被打包进<strong>主包</strong>。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span> <span class="comment">//pages数组中第一项表示应用启动页，参考：https://uniapp.dcloud.io/collocation/pages</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/home/home&quot;</span><span class="punctuation">,</span></span><br><span class="line">      	<span class="attr">&quot;style&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        	<span class="attr">&quot;navigationBarTitleText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;推荐&quot;</span><span class="punctuation">,</span></span><br><span class="line">        	<span class="attr">&quot;navigationStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;custom&quot;</span><span class="punctuation">,</span></span><br><span class="line">        	<span class="attr">&quot;enablePullDownRefresh&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">      	<span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/classify/classify&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;style&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;navigationBarTitleText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;分类&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;navigationStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;custom&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;enablePullDownRefresh&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">   <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>页面对象属性：</p><ul><li>path：页面组件路径</li><li>style：定义页面的一些样式，比如配置，<code>&quot;navigationStyle&quot;: &quot;custom&quot;</code>；配置后这个页面的导航栏直接消失了</li></ul><p>可以注意到<code>page.json</code>中的pages的<code>style属性</code>其实就是替换掉了微信小程序中<code>页面的json文件</code></p></li><li><p>tabbar：值是一个对象，用来配置标签栏，和app.json中的语法相同。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;tabBar&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;selectedColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#28b389&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;list&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/home/home&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;static/home.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;static/home-h.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;推荐&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/classify/classify&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;static/classify.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;static/classify-h.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;分类&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/user/user&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;static/user.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;static/user-h.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;我的&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">     <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>subPackages：用来注册分包，属性的值是一个数组，数组的值是一个一个分包对象，有几个分包对象最终就有几个分包，这个属性的语法也和wx小程序的<code>app.json</code>相同。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;subPackages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;root&quot;</span><span class="punctuation">:</span> <span class="string">&quot;subpkg&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span>&#x27;pkgA&#x27;<span class="punctuation">,</span><span class="comment">//分包别名</span></span><br><span class="line">      <span class="comment">//当前分包下所有页面的相对路径</span></span><br><span class="line">      <span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;detail/detail&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;goods_list/goods_list&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;search/search&quot;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul><p>更多内容参考：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/collocation/pages.html">pages.json 页面路由 | uni-app官网</a></p><h3 id="static目录"><a href="#static目录" class="headerlink" title="static目录"></a><strong>static目录</strong></h3><p>uni-app编译器根据<code>pages.json</code>扫描需要编译的页面，并根据页面引入的js、css合并打包文件。</p><p>对于本地的图片、字体、视频、文件等资源，如果可以直接识别，那么也会把这些资源文件打包进去，但如果这些资源以<code>变量</code>的方式引用， 比如：<code>&lt;image :src=&quot;url&quot;&gt;&lt;/image&gt;</code>，甚至可能有更复杂的函数计算，此时编译器无法分析。</p><p>那么有了static目录，编译器就会把这个目录<code>整体复制</code>到最终编译包内，样只要运行时确实能获取到这个图片，就可以显示。</p><p>当然这也带来一个注意事项，如果static里有一些没有使用的废文件，也会被打包到编译包里，造成体积变大。</p><p>非 <code>static</code> 目录下的文件（vue组件、js、css 等）<strong>只有被引用时</strong>，才会被打包编译。</p><p><strong>简单的来说就是，static目录下的文件无论是否被引用，都会被打包进最终文件，而非static目录下的文件，只有被引用了，才会被打包进最终文件。</strong></p><h3 id="uni-scss"><a href="#uni-scss" class="headerlink" title="uni.scss"></a>uni.scss</h3><p><code>uni.scss</code>文件的用途是为了<strong>方便整体控制应用的风格</strong>。比如按钮颜色、边框风格，<code>uni.scss</code>文件里<strong>预置了一批scss变量</strong>。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">....</span><br><span class="line"><span class="comment">/* 行为相关颜色 */</span></span><br><span class="line"><span class="variable">$uni-color-primary</span>: <span class="number">#007aff</span>;</span><br><span class="line"><span class="variable">$uni-color-success</span>: <span class="number">#4cd964</span>;</span><br><span class="line"><span class="variable">$uni-color-warning</span>: <span class="number">#f0ad4e</span>;</span><br><span class="line"><span class="variable">$uni-color-error</span>: <span class="number">#dd524d</span>;</span><br><span class="line">.....</span><br></pre></td></tr></table></figure><p><code>uni.scss</code>是一个特殊文件，在代码中<strong>无需 import</strong> 这个文件即可在scss代码中使用这里的样式变量。uni-app的编译器在webpack配置中特殊处理了这个uni.scss，使得每个scss文件都被注入这个uni.scss，达到<strong>全局可用</strong>的效果。</p><p><strong>简单来说，这就是一个<code>只包含scss变量</code>的文件，会被自动注入到所有scss文件中。</strong></p><p><strong>注意：</strong></p><ol><li>如要使用这些常用变量，需要在 HBuilderX 里面安装 <code>scss</code> 插件；</li><li>使用时需要在 style 节点上加上 <code>lang=&quot;scss&quot;</code>。</li><li>pages.json不支持scss，原生导航栏和tabbar的动态修改只能使用js api</li></ol><h3 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a>main.js</h3><p>是 uni-app 的<strong>入口文件</strong>，类似微信小程序中的app.js文件。</p><p><code>main.js</code>主要作用是：</p><ul><li>初始化<code>vue</code>实例</li><li>定义全局组件</li><li>使用需要的插件如 i18n、vuex。</li></ul><p>说白了不就是和vue的入口文件作用一样吗，只不过在语法上略有区别。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//vue2</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PageHead</span> <span class="keyword">from</span> <span class="string">&#x27;./components/page-head.vue&#x27;</span> <span class="comment">//全局引用 page-head 组件</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;page-head&#x27;</span>, <span class="title class_">PageHead</span>) <span class="comment">//全局注册 page-head 组件，每个页面将可以直接使用该组件</span></span><br><span class="line"><span class="title class_">App</span>.<span class="property">mpType</span> = <span class="string">&#x27;app&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">...<span class="title class_">App</span></span><br><span class="line">&#125;)</span><br><span class="line">app.$mount() <span class="comment">//挂载 Vue 实例</span></span><br></pre></td></tr></table></figure><h3 id="App-vue"><a href="#App-vue" class="headerlink" title="App.vue"></a>App.vue</h3><p>所有页面都是在<code>App.vue</code>下进行切换的，是应用入口文件。但<code>App.vue</code>本身不是页面，这里不能编写视图元素，也就是</p><p><strong>没有<code>&lt;template&gt;</code></strong></p><p>而在标准的 Vue.js 项目中，<code>App.vue</code> 通常作为应用的<code>根组件</code>，并且包含 <code>&lt;template&gt;</code>、<code>&lt;script&gt;</code> 和 <code>&lt;style&gt;</code> 标签。</p><p>而在 <code>uni-app</code> 中，<code>App.vue</code> 主要扮演的是一个<code>全局配置文件</code>(沦落至此)的角色，而不是具体的页面组件。在uni-app中的作用包括：<strong>监听应用生命周期、配置全局样式</strong>。我们可能有疑问，全局样式配置不是在<code>uni.scss</code>文件中进行的吗？其实不是哈，我们之前也介绍过，这个文件内部只是一些scss变量，很遗憾，这个文件虽然也在项目根目录，但并不像微信小程序中的app.wxss文件一样，用来书写全局样式。</p><p><strong>应用生命周期仅可在<code>App.vue</code>中监听，在页面监听无效</strong>。至此，uni-app中的生命周期就包括了：<strong>组件的生命周期，页面的生命周期和应用的生命周期。</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    onLaunch: function() &#123;</span><br><span class="line">      console.log(&#x27;App Launch&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    onShow: function() &#123;</span><br><span class="line">      console.log(&#x27;App Show&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    onHide: function() &#123;</span><br><span class="line">      console.log(&#x27;App Hide&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot;&gt;</span><br><span class="line">  /*每个页面公共css */</span><br><span class="line">  @import &quot;@/common/styles/common.scss&quot;;</span><br><span class="line">  @import &quot;@/uni.scss&quot;;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>至于应用的生命周期有哪些：</p><table><thead><tr><th align="left">函数名</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">onLaunch</td><td align="left">当<code>uni-app</code> 初始化完成时触发（全局只触发一次），参数为应用启动参数，同 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/api/getLaunchOptionsSync.html#getlaunchoptionssync">uni.getLaunchOptionsSync</a> 的返回值</td></tr><tr><td align="left">onShow</td><td align="left">当 <code>uni-app</code> 启动，或从后台进入前台显示，参数为应用启动参数，同 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/api/getLaunchOptionsSync.html#getlaunchoptionssync">uni.getLaunchOptionsSync</a> 的返回值</td></tr><tr><td align="left">onHide</td><td align="left">当 <code>uni-app</code> 从前台进入后台</td></tr><tr><td align="left">onError</td><td align="left">当 <code>uni-app</code> 报错时触发</td></tr><tr><td align="left">onUniNViewMessage</td><td align="left">对 <code>nvue</code> 页面发送的数据进行监听，可参考 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.io/tutorial/nvue-api?id=communication">nvue 向 vue 通讯</a></td></tr><tr><td align="left">onUnhandledRejection</td><td align="left">对未处理的 Promise 拒绝事件监听函数（2.8.1+ app-uvue 暂不支持）</td></tr><tr><td align="left">onPageNotFound</td><td align="left">页面不存在监听函数</td></tr><tr><td align="left">onThemeChange</td><td align="left">监听系统主题变化</td></tr><tr><td align="left">onLastPageBackPress</td><td align="left">最后一个页面按下Android back键，常用于自定义退出</td></tr><tr><td align="left">onExit</td><td align="left">监听应用退出</td></tr></tbody></table><h2 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h2><p>uni-app项目中，一个页面就是一个符合<code>Vue SFC（单文件组件）规范</code>的 vue 文件。</p><p>在 uni-app js 引擎版中，后缀名是<code>.vue</code>文件或<code>.nvue</code>文件。 这些页面均<code>全平台支持</code>，差异在于当 uni-app 发行到<strong>App平台</strong>时，<code>.vue</code>文件会使用<code>webview</code>进行渲染，<code>.nvue</code>会使用原生进行渲染，详见：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/tutorial/nvue-outline">nvue原生渲染</a>。</p><p>一个页面可以同时存在vue和nvue，在<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/collocation/pages.html">pages.json</a>的路由注册中不包含页面文件名后缀，同一个页面可以对应<strong>2</strong>个文件名。重名时优先级如下：</p><ul><li>在非app平台，先使用vue，忽略nvue</li><li>在app平台，使用nvue，忽略vue</li></ul><h3 id="nvue"><a href="#nvue" class="headerlink" title="nvue"></a><strong>nvue</strong></h3><p>nVue（Native Vue）是由 DCloud 公司开发的一个用于构建原生移动应用的框架。它允许开发者使用 Vue.js 语法来编写代码，但最终生成的是真正的原生 UI 组件，而不是 WebView 中的网页。</p><h4 id="weex"><a href="#weex" class="headerlink" title="weex"></a>weex</h4><p>Weex 是由阿里巴巴集团开发的一个跨平台 <code>UI 开发框架</code>，它允许开发者使用 Web 技术（如 HTML、CSS 和 JavaScript）来编写一次代码，并将其部署到多个平台，包括 iOS、Android 和 Web。Weex 的设计理念是“Write Once, Run Everywhere”，即编写一次代码，到处运行，这使得它可以成为构建高效、可维护的跨平台应用的理想选择。</p><img src="..\images\uni-app\weex.png" style="zoom:67%"><p><strong>性能优化</strong></p><p>Weex 生成的是<code>原生组件</code>而不是基于<code>WebView</code>的渲染，因此它提供了接近<code>原生应用</code>的性能表现。它也通过将 <code>js逻辑</code>与<code>原生渲染引擎</code>分离，实现了高效的更新机制。</p><p>Weex 的 js引擎是在基础 js引擎（如 JavaScriptCore 或 V8）的基础上进行了扩展，以支持特定的 API 和功能。</p><p><strong>对vue开发者友好</strong></p><p>Weex 使用了类似于 Vue.js 的模板语法和组件化开发模式，对于熟悉 Vue.js 的开发者来说非常友好。此外，Weex 还可以直接集成 Vue.js 的生态系统工具链，如 Vue CLI 和 Vuex 等，但是现在很少直接使用weex开发的了。</p><p><strong>缺点</strong></p><p>Weex 提供了一套<code>基础的 API</code> 来访问设备功能，但这些 API 并没有涵盖<code>所有可能的设备功能</code>或<code>第三方服务集成需求</code>。</p><p>为了解决这些问题，一些团队选择<code>扩展</code> Weex 的功能集，或者转向其他提供<code>更广泛 API 支持</code>的框架，如 <code>React Native</code> 或 <code>Flutter</code>。此外，DCloud 的<code>nVue</code>框架通过<strong>增强对原生 API 的支持</strong>，解决了 Weex 在这方面的一些局限性，使前端工程师能够更加独立地开发完整应用程序。</p><h4 id="nvue如何实现原生渲染？"><a href="#nvue如何实现原生渲染？" class="headerlink" title="nvue如何实现原生渲染？"></a>nvue如何实现原生渲染？</h4><p><code>uni-app</code> 的<code>App 端</code>内置了一个基于 weex 改进的<strong>原生渲染引擎</strong>，提供了原生渲染能力。</p><p>以往的 weex ，有个很大的问题是它只是一个<code>高性能的渲染器</code>，没有足够的 API 能力（比如各种 push sdk 集成、蓝牙等能力调用），使得开发时非常依赖原生工程师协作，而nvue 解决了这个问题，让前端工程师可以直接开发完整 App，并提供丰富的插件生态和云打包</p><p>同时<code>uni-app</code>扩展了 weex 原生渲染引擎的很多排版能力，修复了很多 bug。</p><p>一个 App 中可以同时使用两种页面，比如首页使用 nvue，二级页使用 vue 页面，hello uni-app 示例就是如此。</p><p>具体步骤：</p><p><strong>编译时</strong></p><ol><li><p><strong>代码转换，资源打包</strong>：</p><ul><li><p><code>uni-app</code> 使用其<code>编译工具</code>将Vue组件、样式和 JavaScript 逻辑转换为适合 iOS 或者 Android 平台的格式。</p></li><li><p>对于 UI 部分，Vue 组件被<code>映射</code>到相应的<strong>原生控件</strong>。例如，一个 <code>&lt;button&gt;</code> 元素会被转换成 iOS 上的 <code>UIButton</code> 或 Android 上的 <code>Button</code> 控件。</p></li><li><p>包括图片、字体等<code>静态资源</code>也会被打包进最终的应用程序。</p></li><li><p>编译器还会优化这些资源以减少应用程序的体积并提高加载速度</p></li><li><p>这两个过程都是基于 <strong>Webpack 或 Vite</strong> 来实现的。</p></li></ul></li><li><p><strong>生成原生项目结构</strong></p><ul><li>编译后的代码文件会被组织成结构规范的项目</li><li>这个过程中会<strong>集成</strong>必要的依赖库和服务，如 JavaScript 引擎（V8 或 JavaScriptCore）、通信桥梁等</li></ul></li><li><p><strong>API 和组件注册</strong>：</p></li></ol><ul><li>编译器确保所有使用的 API 和自定义组件都被正确地注册和配置，以便在<code>运行时</code>可以正常工作。</li></ul><p><strong>运行时</strong></p><p>用户安装并<strong>启动应用程序</strong>后，进入运行时阶段（此时原生渲染真正开始发挥作用）</p><p><strong>JavaScript 引擎初始化</strong>：</p><ul><li>应用程序启动时，首先会初始化 JavaScript 引擎（如 V8 或 JavaScriptCore），准备执行业务逻辑代码</li></ul><p><strong>UI 渲染</strong>：</p><ul><li>根据编译时生成的映射关系，JavaScript 引擎与<code>原生渲染引擎</code>协作，动态创建和管理 UI 组件。</li><li>每次视图更新或状态变化时，JavaScript 逻辑会通过<code>通信桥梁</code>告知原生层进行相应的 UI 更新。</li></ul><p><strong>事件处理和数据绑定</strong>：</p><ul><li>用户交互产生的事件（如点击按钮）会被捕获，并通过通信桥梁传递给 JavaScript 层进行处理。</li><li>数据绑定机制确保了<code>模型数据</code>的变化能够实时反映在界面上，反之亦然。</li></ul><p><strong>调用原生功能</strong>：</p><ul><li>如果应用需要访问设备硬件或操作系统服务（如相机、地理位置），则通过<code>预先定义好的 API</code> 或插件来调用原生功能。</li></ul><h4 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h4><p>虽然 nvue 也可以多端编译，输出 H5 和小程序，但 nvue 的 <strong>css 写法受限</strong>，<strong>所以如果你不开发 App，那么不需要使用 nvue。</strong></p><p>如果你熟悉 weex 或 react native 开发，那么开发app时， nvue 是你的更优选择，能切实提升你的开发效率，降低成本。</p><p>如果你是 web 前端，不熟悉原生排版，那么建议你仍然以使用 vue 页面为主，在 App 端某些 vue 页面表现不佳的场景下使用 nvue 作为<code>强化补充</code>。这些场景在官方文档中有介绍，太多了就不写了。</p><h4 id="快速上手"><a href="#快速上手" class="headerlink" title="快速上手"></a>快速上手</h4><ul><li><p>新建 nvue 页面</p><p>在 HBuilderX 的 <code>uni-app</code> 项目中，新建页面，弹出界面右上角可以选择是建立<code>vue</code>页面还是<code>nvue</code>页面，或者 2 个同时建。</p><p>不管是 vue 页面还是 nvue 页面，都需要在<code>pages.json</code>中注册。如果在 HBuilderX 中新建页面是会自动注册的，如果使用其他编辑器，则需要自行在 pages.json 里注册。</p></li><li><p>开发 nvue 页面</p><p><code>nvue</code> 页面结构同 <code>vue</code>, 由 <code>template</code>、<code>style</code>、<code>script</code> 构成。</p><ul><li>template： 模板写法、数据绑定同 vue。组件支持 2 种模式，<ul><li>weex 组件，同 weex 写法，参考：<a target="_blank" rel="noopener external nofollow noreferrer" href="http://emas.weex.io/zh/docs/components/a.html">weex 内置组件</a>；</li><li>uni-app 组件，同 uni-app 写法。</li><li>App 端 nvue 专用组件，详见<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.io/component/barcode%E3%80%82">https://uniapp.dcloud.io/component/barcode。</a></li></ul></li><li>style：由于采用原生渲染，<strong>并非所有浏览器的 css 均支持，布局模型只支持 flex 布局</strong>，虽然不会造成某些界面布局无法实现，但写法要注意。详见：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/tutorial/nvue-css">样式</a></li><li>script：写法同 vue，并支持 3 种 API：<ul><li>nvue API ：仅支持 App 端，uni-app 编译模式也可使用。使用前需先引入对应模块，参考：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/tutorial/nvue-api">模块引入 API</a></li><li>uni API：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.io/api/README">https://uniapp.dcloud.io/api/README</a></li><li>plus API：仅支持 App 端。<a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.html5plus.org/doc/h5p.html">http://www.html5plus.org/doc/h5p.html</a></li></ul></li></ul></li></ul><p>更多内容参考：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/tutorial/nvue-outline.html">nvue介绍 | uni-app官网</a></p><h3 id="新建页面"><a href="#新建页面" class="headerlink" title="新建页面"></a>新建页面</h3><p><code>uni-app</code>中的页面，默认保存在工程根目录下的<code>pages</code>目录下。</p><p>每次新建页面，均需在<code>pages.json</code>中配置<code>pages</code>列表；未在<code>pages.json -&gt; pages</code> 中注册的页面，<code>uni-app</code>会在编译阶段进行忽略。</p><p>通过HBuilderX开发 <code>uni-app</code> 项目时，在 <code>uni-app</code> 项目上右键<code>新建页面</code>，HBuilderX会<strong>自动</strong>在<code>pages.json</code>中完成页面注册，开发更方便。</p><p>同时，HBuilderX 还内置了常用的<strong>页面模板</strong>（如图文列表、商品列表等，区别于之前提到的<code>项目模板</code>），选择这些模板，可以大幅提升你的开发效率。</p><p>新建页面时，可以选择<code>是否创建同名目录</code>。创建目录的意义在于：</p><img src="..\images\uni-app\7.png" style="zoom:90%"><ul><li><p>如果你的页面较复杂，需要拆分多个<strong>附属的</strong>js、css、组件等文件，则使用目录归纳比较合适。</p></li><li><p>如果只有一个<code>页面文件</code>，大可不必多放一层目录。</p></li></ul><h3 id="删除页面"><a href="#删除页面" class="headerlink" title="删除页面"></a>删除页面</h3><p>删除页面时，需做两件工作：</p><ul><li>删除<code>.vue</code>文件、<code>.nvue</code>、<code>.uvue</code>文件</li><li>删除<code>pages.json -&gt; pages</code>列表项中的配置 （如使用HBuilderX删除页面，会在状态栏<strong>提醒删除</strong>pages.json对应内容，点击后会打开pages.json并定位到相关配置项）</li></ul><h3 id="页面改名"><a href="#页面改名" class="headerlink" title="页面改名"></a>页面改名</h3><p>操作和删除页面同理，依次修改文件和 <code>pages.json</code>。</p><h3 id="页面文件结构分析"><a href="#页面文件结构分析" class="headerlink" title="页面文件结构分析"></a>页面文件结构分析</h3><p>页面文件结构就是vue文件呗，学过vue的都比较熟悉了。</p><p>uni-app 页面基于 vue 规范。一个页面内，有3个根节点标签：</p><ul><li>模板组件区 <code>&lt;template&gt;</code></li><li>脚本区 <code>&lt;script&gt;</code></li><li>样式区 <code>&lt;style&gt;</code></li></ul><h3 id="页面生命周期"><a href="#页面生命周期" class="headerlink" title="页面生命周期"></a>页面生命周期</h3><p><code>uni-app</code> 页面除支持 <code>Vue 组件生命周期</code>外还支持下方<code>页面生命周期函数</code>(节选)，其实无论组件还是页面，都是vue文件。</p><p>当以组合式 API 使用时，在 Vue2 和 Vue3 中存在一定区别。如果使用的是vue3语法，这些uni-app页面独有的生命周期函数使用前也要按需导入。</p><table><thead><tr><th align="left">函数名</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">onInit</td><td align="left">监听<strong>页面初始化</strong>，其参数同 onLoad 参数，为<code>上个页面传递</code>的数据，参数类型为 Object（用于页面传参），触发时机<code>早于</code> onLoad，只存在于百度小程序。</td></tr><tr><td align="left">onLoad</td><td align="left">监听<strong>页面加载</strong>，该钩子被调用时，响应式数据、计算属性、方法、侦听器、props、slots 已设置完成，其参数为上个页面传递的数据，参数类型为 Object（用于页面传参），参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/api/router#navigateto">示例</a>。</td></tr><tr><td align="left">onShow</td><td align="left">监听页面显示，页面每次出现在屏幕上都触发，包括从下级页面点返回露出当前页面</td></tr><tr><td align="left">onReady</td><td align="left">监听页面<strong>初次渲染完成</strong>，此时组件已挂载完成，DOM 树($el)已可用，注意如果渲染速度快，会在页面进入动画完成前触发</td></tr><tr><td align="left">onHide</td><td align="left">监听页面隐藏</td></tr><tr><td align="left">onUnload</td><td align="left">监听页面卸载</td></tr><tr><td align="left">onResize</td><td align="left">监听窗口尺寸变化</td></tr><tr><td align="left">onPullDownRefresh</td><td align="left">监听用户下拉动作，一般用于<code>下拉刷新</code></td></tr><tr><td align="left">onReachBottom</td><td align="left">页面滚动到底部的事件（不是scroll-view滚到底），常用于下拉下一页数据。具体见下方注意事项</td></tr><tr><td align="left">onTabItemTap</td><td align="left">点击 tab 时触发，参数为Object，具体见下方注意事项</td></tr><tr><td align="left">onShareAppMessage</td><td align="left">用户点击右上角分享</td></tr><tr><td align="left">onPageScroll</td><td align="left">监听页面滚动，参数为Object</td></tr><tr><td align="left">onShareTimeline</td><td align="left">监听用户点击右上角转发到朋友圈</td></tr><tr><td align="left">onAddToFavorites</td><td align="left">监听用户点击右上角收藏</td></tr></tbody></table><p>页面生命周期，说白了就是页面会自动监听某些事件，并执行对应的回调函数，面试的时候问的就是自己如何实现了….</p><p>官方文档还给出了生命周期流程图，下面只给出使用<code>vue2</code>开发的页面声明周期流程图，与vue3对应的流程图区别只在于<code>部分生命周期函数的名称</code>不同（beforeDestory-&gt;beforeUnmount，Destoryed-&gt;Unmounted）</p><img src="..\images\uni-app\uni-app-lifecycle-vue2.jpg" style="zoom:80%"><h4 id="onShow和onHide"><a href="#onShow和onHide" class="headerlink" title="onShow和onHide"></a>onShow和onHide</h4><p>注意页面显示，是一个会重复触发的事件。a页面刚进入时，会触发a页面的onShow。</p><p>当a跳转到b页面时，a会触发onHide，而b会触发onShow。但当b被关闭时，b会触发onUnload，此时a再次显示出现，会再次触发onShow。在tabbar页面（指pages.json里配置的tabbar），不同tab页面互相切换时，会触发各自的onShow和onHide，还是比较好理解的。</p><h4 id="onLoad"><a href="#onLoad" class="headerlink" title="onLoad"></a>onLoad</h4><p>onLoad比较适合的操作是：接受上页的参数，联网取数据，更新data。其参数为上个页面传递的数据，参数类型为 Object</p><h4 id="onReachBottom"><a href="#onReachBottom" class="headerlink" title="onReachBottom"></a>onReachBottom</h4><p>可在pages.json里定义具体页面底部的触发距离，比如设为50（不需要单位），那么滚动页面到距离底部50px时，就会触发onReachBottom事件。</p><p>如使用<code>scroll-view</code>导致页面没有滚动，则触底事件不会被触发。scroll-view滚动到底部的事件请参考scroll-view的文档</p><h2 id="uni-app组成和跨端原理"><a href="#uni-app组成和跨端原理" class="headerlink" title="uni-app组成和跨端原理"></a>uni-app组成和跨端原理</h2><h3 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h3><p>uni-app代码编写，基本语言包括js、vue、css。以及ts、scss等css预编译器。</p><p>在app端，还支持原生渲染的<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/tutorial/nvue-outline.html">nvue</a>，以及可以编译为kotlin和swift的<a target="_blank" rel="noopener external nofollow noreferrer" href="https://doc.dcloud.net.cn/uni-app-x/uts/">uts</a>。</p><p>DCloud还提供了使用js编写服务器代码的uniCloud云引擎。所以只需掌握js，你可以开发web、Android、iOS、各家小程序以及服务器等<code>全栈应用</code>(我嘞个全栈啊)。</p><h3 id="跨端原理"><a href="#跨端原理" class="headerlink" title="跨端原理"></a>跨端原理</h3><p>uni-app分<code>编译器</code>和<code>运行时（runtime）</code>。uni-app能实现<strong>一套代码、多端运行</strong>，是通过这2部分配合完成的。</p><p>编译器将开发者的代码进行编译，编译的<code>输出物（每个平台支持的特有代码）</code>由各个终端的<code>runtime</code>进行解析，每个平台（Web、Android App、iOS App、各家小程序）都有各自的<code>runtime</code>。</p><p><strong>总结的来说</strong>，uni-app能实现跨端，基于uni-app的编译器和提供的运行时环境（runtime）；</p><p>uni-app的编译器基于<code>webpack</code>或者<code>vite</code>，在编译过程中，能把基于uni-app规范编写的代码<strong>转化，打包</strong>成能在特定平台上运行的代码，并这个过程中集成相应的<strong>runtime</strong>；编译打包后的代码<strong>文件</strong>，还会被组织成在<strong>结构</strong>上符合特定平台规范的<strong>项目</strong>。</p><h4 id="编译器"><a href="#编译器" class="headerlink" title="编译器"></a>编译器</h4><img src="..\images\uni-app\编译器.png" style="zoom:67%"><ul><li><p>编译器运行在电脑<code>开发环境</code>。一般是<strong>内置在HBuilderX工具中</strong>，也可以使用独立的cli版。</p><p>使用<code>HBuilderX</code>可视化界面创建的项目，编译器在<code>HBuilderX</code>的安装目录下的<code>plugin</code>目录，随着<code>HBuilderX</code>的升级会自动升级编译器。</p><img src="..\images\uni-app\编译器2.png" style="zoom:100%"></li><li><p>开发者按<code>uni-app</code>规范编写代码，由编译器将开发者的代码编译生成<code>特定平台支持的代码</code></p><ul><li>在web平台，将<code>.vue</code>文件编译为js，css代码。与普通的vue cli项目类似</li><li>在微信小程序平台，编译器将<code>.vue</code>文件拆分生成wxml、wxss、js等代码。</li><li>在app平台，将<code>.vue</code>文件编译为js代码。进一步，如果涉及uts代码：<ul><li>在Android平台，将.uts文件编译为kotlin代码</li><li>在iOS平台，将.uts文件编译为swift代码</li></ul></li></ul></li></ul><ul><li><p>编译器分vue2版和vue3版</p><ul><li>vue2版：基于<code>webpack</code>实现</li><li>vue3版：基于<code>Vite</code>实现，性能更快</li><li>这些工具本身都是基于<code>Node.js</code>平台开发的，因此在你的本地开发环境中必须安装 <code>Node.js</code> 来运行这些构建脚本。</li></ul></li><li><p>编译器支持<code>条件编译</code>，即可以指定某部分代码只编译到特定的终端平台。从而将公用和个性化融合在一个工程中。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #ifdef  App</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;这段代码只有在App平台才会被编译进去。非App平台编译后没有这段代码&quot;</span>)</span><br><span class="line"><span class="comment">// #endif</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="运行时环境"><a href="#运行时环境" class="headerlink" title="运行时环境"></a>运行时环境</h4><img src="..\images\uni-app\runtime.png" style="zoom:80%"><p>uni-app在每个平台都准备了相应的runtime，会在编译的过程中集成到项目中。</p><ul><li>uni-app给小程序端提供的runtime，主要是一个小程序版的vue runtime，页面路由、组件、api等方面基本都是转义。</li><li>uni-app给web端提供的runtime，相比普通的vue项目，多了一套ui库、页面路由框架、和uni对象（即常见API封装）</li><li>uni-app给App端提供的runtime更复杂，可以先简单理解为DCloud也有一套小程序引擎，打包app时将开发者的代码和DCloud的小程序打包成了apk或ipa。当然，事实上DCloud确实有小程序引擎产品，供原生应用实现小程序化。</li></ul><p><strong>uni-app提供的runtime</strong>包括3部分：<strong>基础框架、组件、API</strong>。</p><ol><li>基础框架：<ul><li>包括语法、数据驱动、全局文件、应用管理、页面管理、<strong>js引擎</strong>、<strong>渲染和排版引擎</strong>等</li><li>在<code>web</code>和<code>小程序</code>上，不需要uni-app提供<code>js引擎</code>和<code>排版引擎</code>。因为浏览器有自己的webview，也就是浏览器内核，可以执行渲染和运行js代码的工作；各个小程序平台也有自己的<code>webview</code>和<code>js引擎</code>；但安卓上，需要uni-app提供<code>谷歌v8引擎</code>，webview则使用系统自带的；ios上也不需要uni-app提供js引擎和webview，都使用ios系统自带的。</li><li>App的渲染引擎：<strong>同时提供了2套渲染引擎</strong>，<code>.vue</code>页面文件由webview渲染，原理与小程序相同；<code>.nvue</code>页面文件由<code>原生渲染</code>，原理与react native相同。开发者可以根据需要自主选择渲染引擎。</li></ul></li><li>组件<ul><li>在小程序端，uni-app基础组件会直接<code>转义</code>为小程序自己的内置组件。提供给小程序的runtime中，基础组件不占体积</li><li>在web和android、iOS端，这几十个组件都在uni-app的runtime中，会占用一定体积，相当于内置了一套ui库。</li></ul></li><li>api<ul><li>uni-app runtime内置了大量常见的、跨端的 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/api/index.html">API</a>，比如联网(uni.request)、读取存储(uni.getStorage)</li><li>使用uni-app的标准API，可以<code>跨端</code>使用。但对于不跨端的部分(就是某个平台的特色api)，仍可以调用该端的<code>专有API</code>。由于常见的API都已经被封装内置，所以日常开发时，开发者只需关注<code>uni标准API</code>，当需要调用特色端能力时在<strong>条件编译</strong>里编写特色API调用代码。</li><li>小程序平台：<code>uni</code>对象会转为<strong>小程序的自有对象</strong>，比如在微信小程序平台，编写uni.request等同于wx.request。</li><li>web平台：window、dom等浏览器专用API仍可以使用</li></ul></li></ol><h2 id="逻辑层和渲染层分离"><a href="#逻辑层和渲染层分离" class="headerlink" title="逻辑层和渲染层分离"></a>逻辑层和渲染层分离</h2><p>在web平台，逻辑层（js）和渲染层（html、css），都运行在统一的webview（浏览器内核）里，也就是说web平台的逻辑层和渲染层并没有分离。 但在<code>小程序</code>和<code>app</code>端，逻辑层和渲染层被分离了。</p><p>逻辑层独立成了<code>单独的js引擎(jscore或者v8引擎)</code>，负责执行业务逻辑；</p><p>渲染层仍然是<code>webview</code>，负责页面渲染。简单来说，就是由<code>单线程</code>转换成了<code>双线程</code>。</p><p>要注意的是这里的app端，指的是<strong>混合开发的app</strong>，即混合了前端开发技术和app原生开发技术，而不是原生app；使用uni-app开发的app都混合app，原生app是不涉及前端技术的，比如js的。</p><p>虽然开发者在一个 vue 页面里写 js 和 css，但其实，<code>编译时</code>就已经将它们拆分了。</p><p>分离的核心原因是<strong>性能</strong>。过去很多开发者吐槽 <code>基于webview</code>的app性能不佳，很大原因是<code>js运算</code>和<code>界面渲染</code>抢资源导致的卡顿，这一也说明，webview<strong>其实是能执行js代码的</strong>，只不过为了提高性能，现在只被用来渲染。</p><h3 id="逻辑层详解"><a href="#逻辑层详解" class="headerlink" title="逻辑层详解"></a>逻辑层详解</h3><p>逻辑层是运行在一个<code>独立的</code> js引擎里的，它不依赖于本机的 webview，所以一方面它没有浏览器兼容问题，可以在 Android4.4 上跑 es6 代码；另一方面，它无法运行 <code>window</code>、<code>document</code>、<code>navigator</code>、<code>localstorage</code> 等浏览器专用的 js API。</p><p>比如，<code>jscore</code>就是一个<strong>标准 js 引擎</strong>，可以正常运行<code>标准 js（ECMAscript）</code> ，比如 if、for、各种字符串、日期处理等。</p><img src="..\images\uni-app\jscore.jpg" style="zoom:50%"><ul><li>所谓<code>浏览器 js 引擎</code>，就是 <code>jscore</code> 或 <code>v8</code> 的基础上新增了一批<code>浏览器专用 API</code>，比如 dom；</li><li>node.js 引擎，则是 <code>v8</code> 基础上补充一些<code>电脑专用 API</code>，比如本地 io；</li><li><code>小程序端</code>的 js 引擎，其实是在 <code>jscore</code> 上补充了一批<code>手机端常用的 JS API</code>，比如扫码;</li><li>安卓端的js引擎，则是在<code>谷歌v8引擎</code>的基础上添加了一些手机端常用的 JS API；ios端的js引擎则是基于<code>iOS操作系统</code>提供的<code>jscore</code>。</li></ul><h3 id="视图层详解"><a href="#视图层详解" class="headerlink" title="视图层详解"></a>视图层详解</h3><p>视图层交由webview渲染。</p><ul><li>h5的webview就是浏览器内核</li><li>而小程序平台有自己的<code>webview</code>组件，本质也类似浏览器内核。</li><li>在 iOS 上，只能使用 iOS 提供的 Webview（默认是 <code>WKWebview</code>）。它有一定的<strong>兼容问题</strong>，iOS 版本不同，它的表现有细微差异。</li><li>安卓App 端默认使用了 <code>Android system webview</code>，这个<strong>安卓系统 webview</strong> 跟随<code>手机不同</code>而有<strong>差异</strong>。当然 App 端也支持使用<code>腾讯 X5 引擎</code>，此时可以在 Android 端统一视图层。</li></ul><h3 id="逻辑层和视图层分离的利与弊"><a href="#逻辑层和视图层分离的利与弊" class="headerlink" title="逻辑层和视图层分离的利与弊"></a>逻辑层和视图层分离的利与弊</h3><p>逻辑层和视图层分离，好处是 js 运算不阻塞渲染，最简单直接的感受就是：窗体动画稳。</p><p>缺点是，逻辑层和视图层属于2个不同的线程，不同线程之间的通信是有一定延时的。</p><h2 id="js语法"><a href="#js语法" class="headerlink" title="js语法"></a>js语法</h2><h3 id="浏览器js与标准js"><a href="#浏览器js与标准js" class="headerlink" title="浏览器js与标准js"></a>浏览器js与标准js</h3><p><code>uni-app</code>的js API由标准<code>ECMAScript</code>的js API 和 <code>uni扩展API</code> 这两部分组成。</p><p>标准ECMAScript的js仅是<code>最基础</code>的js。浏览器基于它扩展了window、document、navigator等对象。小程序也基于标准js扩展了各种wx.xx、my.xx、swan.xx的API。node也扩展了fs等模块。</p><p>所以说浏览器js不等于标准js。</p><h3 id="ES6-支持"><a href="#ES6-支持" class="headerlink" title="ES6 支持"></a>ES6 支持</h3><p>uni-app 在支持绝大部分 ES6 API 的同时，也支持了 ES7 的 await&#x2F;async（爽）</p><p>具体支持情况参考官方文档。</p><h3 id="App端"><a href="#App端" class="headerlink" title="App端"></a>App端</h3><p>在App端JS脚本运行在<strong>独立的JS引擎</strong>（jscore）中，vue页面使用<code>系统webview</code>渲染，nvue页面使用系统<code>原生View</code>渲染。</p><h4 id="Android平台"><a href="#Android平台" class="headerlink" title="Android平台"></a>Android平台</h4><ul><li>JS脚本运行在<strong>独立Google V8引擎</strong>中，因此支持的语法与Android系统版本无关</li><li>vue页面渲染在<code>系统Webview(android system webview)</code>中，受Android系统版本影响，当然也可以使用x5等三方webview来拉齐实现。</li><li>nvue页面使用系统原生View渲染，css支持情况参考：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/tutorial/nvue-css.html">nvue页面样式</a></li></ul><h4 id="iOS平台"><a href="#iOS平台" class="headerlink" title="iOS平台"></a>iOS平台</h4><ul><li>JS脚本运行在iOS操作系统提供的<strong>JsCore</strong> 引擎，因此支持的语法与iOS系统有关</li><li>vue页面渲染在系统<code>WKWebview</code>中，受iOS系统版本影响</li><li>nvue页面使用系统原生View渲染，css支持情况参考：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/tutorial/nvue-css.html">nvue页面样式</a></li></ul><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ul><li><p>安卓平台的js引擎是独立于安卓的，非常稳定；</p><p>而vue页面的渲染则基于<code>系统webview</code>，受Android系统版本影响，但是使用第三方webview来替代<code>安卓系统webview</code>，从而消除安卓系统不同带来的渲染差异。</p></li><li><p>ios平台的js引擎是ios操作系统提供的，受iOS系统版本影响；</p><p>而vue页面的渲染同样基于系统<code>WKWebview</code>，受iOS系统版本影响；</p></li></ul><h2 id="css语法"><a href="#css语法" class="headerlink" title="css语法"></a>css语法</h2><h3 id="处理器支持"><a href="#处理器支持" class="headerlink" title="处理器支持"></a>处理器支持</h3><p>uni-app 支持less、sass、scss、stylus等预处理器，但是需要安装相应的插件。</p><h3 id="尺寸单位"><a href="#尺寸单位" class="headerlink" title="尺寸单位"></a>尺寸单位</h3><p><code>uni-app</code> 支持的<strong>通用 css 单位</strong>包括 px、rpx。</p><ul><li>px 即屏幕像素</li><li>rpx 即响应式 px，一种根据屏幕宽度自适应的动态单位。以 750 宽的屏幕为基准，750rpx 恰好为屏幕宽度。屏幕变宽，rpx 实际显示效果会等比放大，但在 App（vue2 不含 nvue） 端和 H5（vue2） 端屏幕宽度达到 960px 时，默认将按照 375px 的屏幕宽度进行计算，具体配置参考：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/collocation/pages#globalstyle">rpx 计算配置</a> 。</li></ul><p>vue 页面还支持<code>rem,vw,vh</code></p><p><code>nvue</code>页面还不支持百分比单位。</p><h3 id="样式导入"><a href="#样式导入" class="headerlink" title="样式导入"></a>样式导入</h3><p>使用<code>@import</code>语句可以导入外联样式表，<code>@import</code>后跟需要导入的外联样式表的相对路径，用<code>;</code>表示语句结束。</p><p>在模块化开发环境中，还可以使用<code>import &quot;../../common/uni.css&quot;</code>的方式导入css文件。</p><p><strong>示例代码：</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="keyword">@import</span> <span class="string">&quot;../../common/uni.css&quot;</span>;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.uni-card</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">box-shadow</span>: none;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h3><p>支持的选择器包括类选择器，id选择器，标签选择器，并集选择器，伪元素选择器。</p><p><strong>注意：</strong></p><ul><li><p>在 <code>uni-app</code> 中不能使用 <code>*</code> 选择器。</p></li><li><p>微信小程序自定义组件中仅支持 class 选择器</p></li><li><p><code>page</code> 相当于 <code>body</code> 节点：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 设置页面背景颜色，使用 scoped 会导致失效 -- &gt;</span><br><span class="line">page &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="全局样式与局部样式"><a href="#全局样式与局部样式" class="headerlink" title="全局样式与局部样式"></a>全局样式与局部样式</h3><p>定义在 <code>App.vue</code> 中的样式为全局样式，作用于每一个页面。在 pages 目录下 的 vue 文件中定义的样式为局部样式，只作用在对应的页面，并会覆盖 App.vue 中相同的选择器。</p><p><strong>注意：</strong></p><ul><li>App.vue 中通过 <code>@import</code> 语句可以导入<code>外联样式</code>，一样作用于每一个页面。</li><li>nvue 页面暂不支持全局样式</li></ul><h3 id="css变量"><a href="#css变量" class="headerlink" title="css变量"></a>css变量</h3><p>uni-app 提供内置 CSS 变量</p><table><thead><tr><th align="left">CSS 变量</th><th align="left">描述</th><th align="left">App</th><th align="left">小程序</th><th align="left">H5</th></tr></thead><tbody><tr><td align="left">–status-bar-height</td><td align="left">系统状态栏高度</td><td align="left"><a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.html5plus.org/doc/zh_cn/navigator.html#plus.navigator.getStatusbarHeight">系统状态栏高度</a>、nvue 注意见下</td><td align="left">25px</td><td align="left">0</td></tr><tr><td align="left">–window-top</td><td align="left">内容区域距离顶部的距离</td><td align="left">0</td><td align="left">0</td><td align="left">NavigationBar 的高度</td></tr><tr><td align="left">–window-bottom</td><td align="left">内容区域距离底部的距离</td><td align="left">0</td><td align="left">0</td><td align="left">TabBar 的高度</td></tr></tbody></table><p><strong>注意：</strong></p><ul><li><code>var(--status-bar-height)</code> 此变量在微信小程序环境为固定 <code>25px</code>，在 App 里为手机实际<strong>状态栏</strong>高度。</li><li>当设置 <code>&quot;navigationStyle&quot;:&quot;custom&quot;</code> 取消<code>原生导航栏</code>后，由于窗体为沉浸式，占据了状态栏位置。此时可以使用一个高度为 <code>var(--status-bar-height)</code> 的 view 放在页面顶部，使用<code>sticky布局</code>，避免页面内容出现在状态栏(避免页面内容压住状态栏)。</li><li>由于在 H5 端，不存在原生导航栏和 tabbar，也是前端 div 模拟。如果设置了一个固定位置的居底 view，在小程序和 App 端是在 tabbar 上方，但在 H5 端会与 tabbar 重叠。此时可使用<code>--window-bottom</code>，不管在哪个端，都是固定在 tabbar 上方。</li><li>目前 nvue 在 App 端，还不支持 <code>--status-bar-height</code>变量，替代方案是在页面 <code>onLoad</code> 时通过 <code>uni.getSystemInfoSync().statusBarHeight</code> 获取状态栏高度，然后通过 style 绑定方式给占位 view 设定高度。</li></ul><h3 id="背景图片"><a href="#背景图片" class="headerlink" title="背景图片"></a>背景图片</h3><p><code>uni-app</code> 支持使用在 css 里设置背景图片，使用方式与普通 <code>web</code> 项目大体相同，但需要注意以下几点：</p><ul><li><p>支持 base64 格式图片。</p></li><li><p>支持网络路径图片。</p></li><li><p><code>小程序</code>不支持在 css 中使用本地文件，包括本地的<code>背景图</code>和<code>字体文件</code>。需以 <code>base64</code> 方式方可使用。</p></li><li><p>在小程序中使用<code>本地路径</code>背景图片需注意：</p><ol><li>为方便开发者，在背景图片小于 40kb 时，<code>uni-app</code> 编译到不支持本地背景图的平台时，会自动将其转化为 base64 格式；</li><li>图片大于等于 40kb，会有性能问题，不建议使用太大的背景图，如开发者必须使用，则需自己将其转换为 base64 格式使用，或将其挪到服务器上，从网络地址引用。</li><li>本地背景图片的引用路径推荐使用以<code>~@</code>开头的绝对路径，<code>微信小程序</code>不支持相对路径（真机不支持，开发工具支持）</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.test2</span> &#123;</span><br><span class="line">	<span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;~@/static/logo.png&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>简单的来说就是<strong>对于小程序，在css中使用本地图片是不被支持的</strong>，如果非要使用，当图片大小小于40kb，uni-app则会帮你把它转化成base64格式，否则需要手动转化成base64格式或者网络图片，否则就会出错。</p><p><strong>字体文件</strong>同理。</p><h2 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h2><h3 id="自定义组件"><a href="#自定义组件" class="headerlink" title="自定义组件"></a>自定义组件</h3><p>通过uni-app的<code>easycom</code>， 将组件引入精简为一步。只要<code>自定义组件</code>安装在项目的 <code>components</code> 目录下，并符合 <code>components/组件名称/组件名称.vue</code> 目录结构。就可以<code>不用引用、不注册</code>，直接在页面中使用，非常方便。</p><p><strong>说明</strong></p><ul><li><p><code>easycom</code>是<code>自动开启</code>的，不需要手动开启，有需求时可以在<code>pages.json</code>的<code>easycom</code>节点进行个性化设置，如关闭自动扫描，或自定义扫描匹配组件的策略。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;easycom&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;autoscan&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span><span class="comment">//默认开启</span></span><br><span class="line">  <span class="comment">//以正则方式自定义组件匹配规则。如果autoscan不能满足需求，可以使用custom自定义匹配规则</span></span><br><span class="line">  <span class="attr">&quot;custom&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;^uni-(.*)&quot;</span><span class="punctuation">:</span> <span class="string">&quot;@/components/uni-$1.vue&quot;</span><span class="punctuation">,</span> <span class="comment">// 匹配components目录内的vue文件</span></span><br><span class="line">    <span class="attr">&quot;^vue-file-(.*)&quot;</span><span class="punctuation">:</span> <span class="string">&quot;packageName/path/to/vue-file-$1.vue&quot;</span> <span class="comment">// 匹配node_modules内的vue文件</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul><ul><li><code>easycom</code>方式引入的组件无需在页面内<code>import</code>，也不需要在<code>components</code>内声明，即无需引入无需注册，可在任意页面使用。</li><li><code>easycom</code>方式引入组件不是全局引入，而是<strong>局部引入</strong>。例如在H5端只有加载相应页面才会加载使用的组件。</li><li>在组件名完全一致的情况下，<code>easycom</code>引入的优先级低于手动引入（区分连字符形式与驼峰形式）。</li><li><code>easycom</code>只处理vue组件，不处理小程序专用组件（如微信的wxml格式组件）</li></ul><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/collocation/pages.html#easycom">pages.json 页面路由 | uni-app官网</a></p><h3 id="下载组件"><a href="#下载组件" class="headerlink" title="下载组件"></a>下载组件</h3><p>uni-app有许多内置的组件，比如view，scroll-view。还有许多官方提供的扩展组件。</p><p>如果使用的是<code>uni-ui</code>模板的项目，则这些扩展组件都在创建项目的时候下载好了(都下载到了根目录下的<code>uni_modules</code>文件中)，这样的好处就是<strong>不需要手动下载组件</strong>，直接使用即可；</p><p>而且这些组件并不是会无条件地，全部被打包进最终文件。具体来说，打包工具（如 Webpack 或 Vite）会根据你实际使用的组件来决定哪些内容会被包含在最终的应用程序中(tree-shaking)。</p><p>如果你没有创建<code>uni-ui</code>项目模板，也可以在你的工程里，通过 <code>uni_modules</code> 单独安装需要的某个组件。导入指定项目后直接使用即可，这些组件也<strong>无需import和注册，就可以直接使用</strong>，也是得益于<code>eazycom</code>机制。</p><h3 id="常用组件"><a href="#常用组件" class="headerlink" title="常用组件"></a>常用组件</h3><h2 id="api"><a href="#api" class="headerlink" title="api"></a>api</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><img src="..\images\uni-app\uni-js.png" style="zoom:80%"><p><code>uni-app</code>的 js API 由标准 ECMAScript 的 js API 和 uni 扩展 API 这两部分组成。</p><p>标准 ECMAScript 的 js 仅是最基础的 js。浏览器基于它扩展了 window、document、navigator 等对象。小程序也基于标准 js 扩展了各种 wx.xx、my.xx、swan.xx 的 API。node 也扩展了 fs 等模块。</p><p>uni-app 基于 ECMAScript 扩展了 <strong>uni 对象</strong>，uni-app的几乎所有API都包含在这个对象上，并且 API 命名与小程序保持兼容。</p><p>除了 uni-app 框架内置的跨端 API（会被自动编译成特定平台对应的api），各端自己的特色 API 也可通过<a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.io/platform">条件编译</a>自由使用。各端特色 API 规范参考各端的开发文档。</p><h3 id="API-Promise-化"><a href="#API-Promise-化" class="headerlink" title="API Promise 化"></a>API Promise 化</h3><p>异步的方法，如果不传入 success、fail、complete 等 callback 参数，将以 Promise 返回数据。例如：<code>uni.getImageInfo()</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 正常使用</span></span><br><span class="line"><span class="keyword">const</span> task = uni.<span class="title function_">connectSocket</span>(&#123;</span><br><span class="line">  <span class="title function_">success</span>(<span class="params">res</span>)&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"> <span class="comment">// Promise 化</span></span><br><span class="line">uni.<span class="title function_">connectSocket</span>().<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 此处即为正常使用时 success 回调的 res</span></span><br><span class="line">  <span class="comment">// uni.connectSocket() 正常使用时是会返回 task 对象的，如果想获取 task ，则不要使用 Promise 化</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>原来不用自己<code>new Promise()</code>啊😂</p><h3 id="网络请求"><a href="#网络请求" class="headerlink" title="网络请求"></a>网络请求</h3><h4 id="uni-request-OBJECT"><a href="#uni-request-OBJECT" class="headerlink" title="uni.request(OBJECT)"></a><strong>uni.request(OBJECT)</strong></h4><p>object（传入api的对象）的<strong>常用</strong>属性：</p><table><thead><tr><th align="left">参数名</th><th align="left">类型</th><th align="left">必填</th><th align="left">默认值</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">url</td><td align="left">String</td><td align="left">是</td><td align="left"></td><td align="left">开发者服务器接口地址</td></tr><tr><td align="left">data</td><td align="left">Object&#x2F;String&#x2F;ArrayBuffer</td><td align="left">否</td><td align="left"></td><td align="left">请求的参数</td></tr><tr><td align="left">header</td><td align="left">Object</td><td align="left">否</td><td align="left"></td><td align="left">设置请求的 header，header 中不能设置 Referer</td></tr><tr><td align="left">method</td><td align="left">String</td><td align="left">否</td><td align="left">GET</td><td align="left">有效值详见下方说明</td></tr><tr><td align="left">dataType</td><td align="left">String</td><td align="left">否</td><td align="left">json</td><td align="left">如果设为 json，会对返回的数据进行一次 JSON.parse，非 json 不会进行 JSON.parse</td></tr><tr><td align="left">responseType</td><td align="left">String</td><td align="left">否</td><td align="left">text</td><td align="left">设置响应的数据类型。合法值：text、arraybuffer</td></tr><tr><td align="left">withCredentials</td><td align="left">Boolean</td><td align="left">否</td><td align="left">false</td><td align="left">跨域请求时是否携带凭证（cookies）</td></tr><tr><td align="left">defer</td><td align="left">Boolean</td><td align="left">否</td><td align="left">false</td><td align="left">控制当前请求是否延时至首屏内容渲染后发送</td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left"></td><td align="left">收到开发者服务器成功返回的回调函数，第一个参数是个对象，属性包括：data，statusCode，header，cookies</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left"></td><td align="left">接口调用失败的回调函数，的第一个参数是个对象，属性包括：errCode，errSubject，data，cause，errMsg</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left"></td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><ul><li><p>method有效值<strong>必须大写</strong>，每个平台支持的method有效值不同</p></li><li><p>success 返回参数说明：</p><table><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">data</td><td align="left">Object&#x2F;String&#x2F;ArrayBuffer</td><td align="left">开发者服务器返回的数据</td></tr><tr><td align="left">statusCode</td><td align="left">Number</td><td align="left">开发者服务器返回的 HTTP 状态码</td></tr><tr><td align="left">header</td><td align="left">Object</td><td align="left">开发者服务器返回的 HTTP Response Header</td></tr><tr><td align="left">cookies</td><td align="left"><code>Array&lt;string&gt;</code></td><td align="left">开发者服务器返回的 cookies，格式为字符串数组</td></tr></tbody></table></li></ul><p><strong>requestTask对象</strong></p><p>如果希望返回一个 <code>requestTask</code> 对象，需要至少传入 <code>success / fail / complete</code> 参数中的一个。例如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> requestTask = uni.<span class="title function_">request</span>(&#123;</span><br><span class="line">	<span class="attr">url</span>: <span class="string">&#x27;https://www.example.com/request&#x27;</span>, <span class="comment">//仅为示例，并非真实接口地址。</span></span><br><span class="line">	<span class="attr">complete</span>: <span class="function">()=&gt;</span> &#123;&#125;</span><br><span class="line">&#125;);</span><br><span class="line">requestTask.<span class="title function_">abort</span>();<span class="comment">//中断请求</span></span><br></pre></td></tr></table></figure><p>如果没有传入 success &#x2F; fail &#x2F; complete 参数，则会返回封装后的 Promise 对象，通过 <code>requestTask</code>，可中断请求任务。</p><p>对于uni.request这个api无论是否传入回调函数，都会返回一个对象，只不过返回对象的类型不同。</p><h3 id="页面路由"><a href="#页面路由" class="headerlink" title="页面路由"></a>页面路由</h3><h4 id="uni-navigateTo-OBJECT"><a href="#uni-navigateTo-OBJECT" class="headerlink" title="uni.navigateTo(OBJECT)"></a>uni.navigateTo(OBJECT)</h4><ul><li><strong>保留当前页面</strong>，跳转到应用内的某个页面，使用<code>uni.navigateBack</code>可以返回到原页面。</li><li>只能跳转到<strong>非tabbar页面</strong>。</li><li>路由API的目标页面必须是在<code>pages.json</code>里注册的vue页面，如果想打开web url，参考官方文档。</li></ul><p>OBJECT常用参数说明：</p><table><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">必填</th><th align="left">默认值</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">url</td><td align="left">String</td><td align="left">是</td><td align="left"></td><td align="left">需要跳转的应用内<code>非 tabBar</code> 的页面的路径 , 路径后可以<strong>带参数</strong>。参数与路径之间使用?分隔，参数键与参数值用&#x3D;相连，不同参数用&amp;分隔；如 ‘path?key&#x3D;value&amp;key2&#x3D;value2’，path为下一个页面的路径，下一个页面的onLoad函数可得到传递的参数</td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left"></td><td align="left">接口调用成功的回调函数</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left"></td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left"></td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p>示例：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在起始页面跳转到test.vue页面并传递参数</span></span><br><span class="line">uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">	<span class="attr">url</span>: <span class="string">&#x27;test?id=1&amp;name=uniapp&#x27;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在test.vue页面接受参数</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">	<span class="attr">onLoad</span>: <span class="keyword">function</span> (<span class="params">option</span>) &#123; <span class="comment">//option为object类型，会序列化上个页面传递的参数</span></span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(option.<span class="property">id</span>); <span class="comment">//打印出上个页面传递的参数。</span></span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(option.<span class="property">name</span>); <span class="comment">//打印出上个页面传递的参数。</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="uni-navigateBack-OBJECT"><a href="#uni-navigateBack-OBJECT" class="headerlink" title="uni.navigateBack(OBJECT)"></a>uni.navigateBack(OBJECT)</h4><p><strong>关闭当前页面</strong>，返回上一页面或多级页面。可通过 <code>getCurrentPages()</code> 获取当前的页面栈，决定需要返回几层。</p><p>OBJECT参数说明：</p><table><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">必填</th><th align="left">默认值</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">delta</td><td align="left">Number</td><td align="left">否</td><td align="left">1</td><td align="left">返回的页面数，如果 delta 大于现有页面数，则返回到首页。</td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left"></td><td align="left">接口调用成功的回调函数</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left"></td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left"></td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p>示例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注意：调用 navigateTo 跳转时，调用该方法的页面会被加入堆栈，而 redirectTo 方法则不会。见下方示例代码</span></span><br><span class="line"><span class="comment">// 此处是A页面</span></span><br><span class="line">uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">	<span class="attr">url</span>: <span class="string">&#x27;B?id=1&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 此处是B页面</span></span><br><span class="line">uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">	<span class="attr">url</span>: <span class="string">&#x27;C?id=1&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 在C页面内 navigateBack，将返回A页面</span></span><br><span class="line">uni.<span class="title function_">navigateBack</span>(&#123;</span><br><span class="line">	<span class="attr">delta</span>: <span class="number">2</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="uni-redirectTo-OBJECT"><a href="#uni-redirectTo-OBJECT" class="headerlink" title="uni.redirectTo(OBJECT)"></a>uni.redirectTo(OBJECT)</h4><ul><li><strong>关闭当前页面</strong>，跳转到应用内的某个页面，不能跳转到 tabBar 页面。</li><li>和navigateTo的主要区别是这个api会关闭当前页面，而navigateTo不会</li></ul><p>OBJECT参数说明：</p><table><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">url</td><td align="left">String</td><td align="left">是</td><td align="left">需要跳转的应用内<code>非 tabBar</code> 的页面的路径，路径后可以带参数。参数与路径之间使用?分隔，参数键与参数值用&#x3D;相连，不同参数用&amp;分隔；如 ‘path?key&#x3D;value&amp;key2&#x3D;value2’</td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用成功的回调函数</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><h4 id="uni-reLaunch-OBJECT"><a href="#uni-reLaunch-OBJECT" class="headerlink" title="uni.reLaunch(OBJECT)"></a>uni.reLaunch(OBJECT)</h4><ul><li><strong>关闭所有页面</strong>，打开到应用内的某个页面，包括tabbar页面。</li></ul><p>OBJECT参数说明：</p><table><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">url</td><td align="left">String</td><td align="left">是</td><td align="left">需要跳转的应用内页面路径 , 路径后可以带参数。参数与路径之间使用?分隔，参数键与参数值用&#x3D;相连，不同参数用&amp;分隔；如 ‘path?key&#x3D;value&amp;key2&#x3D;value2’，如果跳转的页面路径是 <code>tabBar 页面</code>则不能带参数</td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用成功的回调函数</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><h4 id="uni-switchTab-OBJECT"><a href="#uni-switchTab-OBJECT" class="headerlink" title="uni.switchTab(OBJECT)"></a>uni.switchTab(OBJECT)</h4><ul><li>跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面。</li><li>在路径中不能携带参数。</li></ul><p>OBJECT参数说明：</p><table><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">url</td><td align="left">String</td><td align="left">是</td><td align="left">需要跳转的 tabBar 页面的路径（需同时在 pages.json 的 tabBar ，pages字段定义的页面），路径后不能带参数</td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用成功的回调函数</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><h3 id="媒体"><a href="#媒体" class="headerlink" title="媒体"></a>媒体</h3><h4 id="uni-chooseImage-OBJECT"><a href="#uni-chooseImage-OBJECT" class="headerlink" title="uni.chooseImage(OBJECT)"></a>uni.chooseImage(OBJECT)</h4><p>从本地相册选择图片或使用相机拍照。</p><p>App端如需要更丰富的相机拍照API（如直接调用前置摄像头），参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.html5plus.org/doc/zh_cn/camera.html">plus.camera</a></p><p>OBJECT 参数说明：</p><table><thead><tr><th align="left">参数名</th><th align="left">类型</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">count</td><td align="left">Number</td><td align="left">否</td><td align="left">最多可以选择的图片张数，默认9</td></tr><tr><td align="left">sizeType</td><td align="left"><code>Array&lt;String&gt;</code></td><td align="left">否</td><td align="left">original 原图，compressed 压缩图，默认二者都有</td></tr><tr><td align="left">extension</td><td align="left"><code>Array&lt;String&gt;</code></td><td align="left">否</td><td align="left">根据文件拓展名过滤，每一项都不能是空字符串。默认不过滤。</td></tr><tr><td align="left">sourceType</td><td align="left"><code>Array&lt;String&gt;</code></td><td align="left">否</td><td align="left">album 从相册选图，camera 使用相机，默认二者都有。如需直接开相机或直接选相册，请只使用一个选项</td></tr><tr><td align="left">crop</td><td align="left">Object</td><td align="left">否</td><td align="left">图像裁剪参数，设置后 sizeType 失效</td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">是</td><td align="left">成功则返回图片的<code>本地文件路径列表</code>tempFilePaths</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>success 返回参数说明</strong></p><table><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">tempFilePaths</td><td align="left"><code>Array&lt;String&gt;</code></td><td align="left">图片的本地文件路径列表</td></tr><tr><td align="left">tempFiles</td><td align="left"><code>Array&lt;Object&gt;、Array&lt;File&gt;</code></td><td align="left">图片的本地文件列表，每一项是一个 File 对象</td></tr></tbody></table><p>示例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">uni.<span class="title function_">chooseImage</span>(&#123;</span><br><span class="line">	<span class="attr">count</span>: <span class="number">6</span>, <span class="comment">//默认9</span></span><br><span class="line">	<span class="attr">sizeType</span>: [<span class="string">&#x27;original&#x27;</span>, <span class="string">&#x27;compressed&#x27;</span>], <span class="comment">//可以指定是原图还是压缩图，默认二者都有</span></span><br><span class="line">	<span class="attr">sourceType</span>: [<span class="string">&#x27;album&#x27;</span>], <span class="comment">//从相册选择</span></span><br><span class="line">	<span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(res.<span class="property">tempFilePaths</span>));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>File 对象结构如下</strong></p><table><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">path</td><td align="left">String</td><td align="left">本地文件路径</td></tr><tr><td align="left">size</td><td align="left">Number</td><td align="left">本地文件大小，单位：B</td></tr><tr><td align="left">name</td><td align="left">String</td><td align="left">包含扩展名的文件名称，仅H5支持</td></tr><tr><td align="left">type</td><td align="left">String</td><td align="left">文件类型，仅H5支持</td></tr></tbody></table><h4 id="uni-previewImage"><a href="#uni-previewImage" class="headerlink" title="uni.previewImage"></a>uni.previewImage</h4><p>预览图片。</p><p>OBJECT 参数说明：</p><table><thead><tr><th align="left">参数名</th><th align="left">类型</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">current</td><td align="left">String&#x2F;Number</td><td align="left">详见下方说明</td><td align="left">详见下方说明</td></tr><tr><td align="left">showmenu</td><td align="left">Boolean</td><td align="left">否</td><td align="left">是否显示长按菜单，默认值为 true</td></tr><tr><td align="left">urls</td><td align="left"><code>Array&lt;String&gt;</code></td><td align="left">是</td><td align="left">需要预览的图片链接列表</td></tr><tr><td align="left">indicator</td><td align="left">String</td><td align="left">否</td><td align="left">图片指示器样。可取值：”default” - 底部圆点指示器； “number” - 顶部数字指示器； “none” - 不显示指示器。</td></tr><tr><td align="left">loop</td><td align="left">Boolean</td><td align="left">否</td><td align="left">是否可循环预览，默认值为 false</td></tr><tr><td align="left">longPressActions</td><td align="left">Object</td><td align="left">否</td><td align="left">长按图片显示操作菜单，如不填默认为<strong>保存相册</strong></td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用成功的回调函数</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p>关于current详细介绍参考官方文档。</p><h4 id="uni-closePreviewImage-OBJECT"><a href="#uni-closePreviewImage-OBJECT" class="headerlink" title="uni.closePreviewImage(OBJECT)"></a>uni.closePreviewImage(OBJECT)</h4><p>OBJECT 参数说明：</p><table><thead><tr><th align="left">参数名</th><th align="left">类型</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用成功的回调函数</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><h4 id="uni-getImageInfo-OBJECT"><a href="#uni-getImageInfo-OBJECT" class="headerlink" title="uni.getImageInfo(OBJECT)"></a>uni.getImageInfo(OBJECT)</h4><p>获取图片信息。</p><p>小程序下获取网络图片信息需先配置download域名白名单才能生效。</p><p>OBJECT 参数说明：</p><table><thead><tr><th align="left">参数名</th><th align="left">类型</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">src</td><td align="left">String</td><td align="left">是</td><td align="left">图片的路径，可以是相对路径，临时文件路径，存储文件路径，网络图片路径</td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用成功的回调函数</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>success 返回参数说明</strong></p><table><thead><tr><th align="left">参数名</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">width</td><td align="left">Number</td><td align="left">图片宽度，单位px</td></tr><tr><td align="left">height</td><td align="left">Number</td><td align="left">图片高度，单位px</td></tr><tr><td align="left">path</td><td align="left">String</td><td align="left">返回图片的本地路径</td></tr><tr><td align="left">type</td><td align="left">String</td><td align="left">返回图片的格式</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">uni.<span class="title function_">chooseImage</span>(&#123;</span><br><span class="line">	<span class="attr">count</span>: <span class="number">1</span>,</span><br><span class="line">	<span class="attr">sourceType</span>: [<span class="string">&#x27;album&#x27;</span>],</span><br><span class="line">	<span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">		uni.<span class="title function_">getImageInfo</span>(&#123;</span><br><span class="line">			<span class="attr">src</span>: res.<span class="property">tempFilePaths</span>[<span class="number">0</span>],<span class="comment">//传入第一个图片临时路径</span></span><br><span class="line">			<span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">image</span>) &#123;</span><br><span class="line">				<span class="variable language_">console</span>.<span class="title function_">log</span>(image.<span class="property">width</span>);</span><br><span class="line">				<span class="variable language_">console</span>.<span class="title function_">log</span>(image.<span class="property">height</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="uni-saveImageToPhotosAlbum-OBJECT"><a href="#uni-saveImageToPhotosAlbum-OBJECT" class="headerlink" title="uni.saveImageToPhotosAlbum(OBJECT)"></a>uni.saveImageToPhotosAlbum(OBJECT)</h4><p>保存图片到系统相册。</p><p>OBJECT 参数说明：</p><table><thead><tr><th align="left">参数名</th><th align="left">类型</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">filePath</td><td align="left">String</td><td align="left">是</td><td align="left">图片文件路径，可以是临时文件路径也可以是永久文件路径，<strong>不支持网络图片路径</strong></td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用成功的回调函数</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>success 返回参数说明</strong></p><table><thead><tr><th align="left">参数名</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">path</td><td align="left">String</td><td align="left">保存到相册的图片路径，仅 App 3.0.5+ 支持</td></tr><tr><td align="left">errMsg</td><td align="left">String</td><td align="left">调用结果</td></tr></tbody></table><p><strong>注意</strong></p><ul><li>可以通过<strong>用户授权API</strong>来判断用户是否给应用授予相册的<strong>访问权限</strong><a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.io/api/other/authorize">https://uniapp.dcloud.io/api/other/authorize</a></li><li>H5没有API可触发保存到相册行为，下载图片时浏览器会询问图片存放地址。</li><li>微信小程序在2023年10月17日之后，使用API需要配置<a target="_blank" rel="noopener external nofollow noreferrer" href="https://developers.weixin.qq.com/miniprogram/dev/framework/user-privacy/PrivacyAuthorize.html">隐私协议</a></li></ul><p><strong>示例</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">uni.<span class="title function_">chooseImage</span>(&#123;</span><br><span class="line">	<span class="attr">count</span>: <span class="number">1</span>,</span><br><span class="line">	<span class="attr">sourceType</span>: [<span class="string">&#x27;camera&#x27;</span>],</span><br><span class="line">	<span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">		uni.<span class="title function_">saveImageToPhotosAlbum</span>(&#123;</span><br><span class="line">			<span class="attr">filePath</span>: res.<span class="property">tempFilePaths</span>[<span class="number">0</span>],</span><br><span class="line">			<span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">				<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;save success&#x27;</span>,res.<span class="property">path</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h3><h4 id="uni-saveFile-OBJECT"><a href="#uni-saveFile-OBJECT" class="headerlink" title="uni.saveFile(OBJECT)"></a>uni.saveFile(OBJECT)</h4><p>OBJECT 参数说明：</p><table><thead><tr><th align="left">参数名</th><th align="left">类型</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">tempFilePath</td><td align="left">String</td><td align="left">是</td><td align="left">需要保存的文件的<strong>临时路径</strong>，只能是临时文件路径。</td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left">返回文件的保存路径，res &#x3D; {savedFilePath: ‘文件的保存路径’}</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>success 返回参数说明：</strong></p><table><thead><tr><th align="left">参数</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">savedFilePath</td><td align="left">文件的保存路径</td></tr></tbody></table><p>示例：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">uni.<span class="title function_">chooseImage</span>(&#123;</span><br><span class="line">  <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> tempFilePaths = res.<span class="property">tempFilePaths</span>;</span><br><span class="line">    uni.<span class="title function_">saveFile</span>(&#123;</span><br><span class="line">      <span class="attr">tempFilePath</span>: tempFilePaths[<span class="number">0</span>],<span class="comment">//选择第一个临时文件路径</span></span><br><span class="line">      <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> savedFilePath = res.<span class="property">savedFilePath</span>;<span class="comment">//保存成功后返回的文件路径</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="界面"><a href="#界面" class="headerlink" title="界面"></a>界面</h3><h4 id="uni-showToast-OBJECT"><a href="#uni-showToast-OBJECT" class="headerlink" title="uni.showToast(OBJECT)"></a>uni.showToast(OBJECT)</h4><p>显示消息提示框。</p><p>OBJECT参数说明：</p><table><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">title</td><td align="left">String</td><td align="left">是</td><td align="left">提示的内容，长度与 icon 取值有关。</td></tr><tr><td align="left">icon</td><td align="left">String</td><td align="left">否</td><td align="left">图标，有效值详见下方说明，默认：success。</td></tr><tr><td align="left">image</td><td align="left">String</td><td align="left">否</td><td align="left">自定义图标的本地路径（app端暂不支持gif）</td></tr><tr><td align="left">mask</td><td align="left">Boolean</td><td align="left">否</td><td align="left">是否显示透明蒙层，防止触摸穿透，默认：false</td></tr><tr><td align="left">duration</td><td align="left">Number</td><td align="left">否</td><td align="left">提示的延迟时间，单位毫秒，默认：1500</td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用成功的回调函数</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><h4 id="uni-hideToast"><a href="#uni-hideToast" class="headerlink" title="uni.hideToast()"></a>uni.hideToast()</h4><p>隐藏消息提示框。</p><h4 id="uni-showLoading-OBJECT"><a href="#uni-showLoading-OBJECT" class="headerlink" title="uni.showLoading(OBJECT)"></a>uni.showLoading(OBJECT)</h4><p>显示 loading 提示框, 需主动调用 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://uniapp.dcloud.net.cn/api/ui/prompt.html#hideloading">uni.hideLoading</a> 才能关闭提示框。</p><p>OBJECT参数说明：</p><table><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">title</td><td align="left">String</td><td align="left">是</td><td align="left">提示的文字内容，显示在loading的下方</td></tr><tr><td align="left">mask</td><td align="left">Boolean</td><td align="left">否</td><td align="left">是否显示透明蒙层，防止触摸穿透，默认：false</td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用成功的回调函数</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><h4 id="uni-hideLoading"><a href="#uni-hideLoading" class="headerlink" title="uni.hideLoading()"></a>uni.hideLoading()</h4><p>隐藏 loading 提示框。</p><p><strong>示例</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">uni.<span class="title function_">showLoading</span>(&#123;</span><br><span class="line">	<span class="attr">title</span>: <span class="string">&#x27;加载中&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">	uni.<span class="title function_">hideLoading</span>();</span><br><span class="line">&#125;, <span class="number">2000</span>);</span><br></pre></td></tr></table></figure><h4 id="uni-showModal-OBJECT"><a href="#uni-showModal-OBJECT" class="headerlink" title="uni.showModal(OBJECT)"></a>uni.showModal(OBJECT)</h4><p>显示模态弹窗，可以只有一个确定按钮，也可以同时有确定和取消按钮</p><p><strong>OBJECT参数说明</strong></p><table><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">title</td><td align="left">String</td><td align="left">否</td><td align="left">提示的标题</td></tr><tr><td align="left">content</td><td align="left">String</td><td align="left">否</td><td align="left">提示的内容</td></tr><tr><td align="left">showCancel</td><td align="left">Boolean</td><td align="left">否</td><td align="left">是否显示取消按钮，默认为 true</td></tr><tr><td align="left">cancelText</td><td align="left">String</td><td align="left">否</td><td align="left">取消按钮的文字，默认为”取消”</td></tr><tr><td align="left">cancelColor</td><td align="left">HexColor</td><td align="left">否</td><td align="left">取消按钮的文字颜色，默认为”#000000”</td></tr><tr><td align="left">confirmText</td><td align="left">String</td><td align="left">否</td><td align="left">确定按钮的文字，默认为”确定”</td></tr><tr><td align="left">confirmColor</td><td align="left">HexColor</td><td align="left">否</td><td align="left">确定按钮的文字颜色，H5平台默认为”#007aff”，微信小程序平台默认为”#576B95”，百度小程序平台默认为”#3c76ff”</td></tr><tr><td align="left">editable</td><td align="left">Boolean</td><td align="left">否</td><td align="left">是否显示输入框</td></tr><tr><td align="left">placeholderText</td><td align="left">String</td><td align="left">否</td><td align="left">显示输入框时的提示文本</td></tr><tr><td align="left">success</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用成功的回调函数</td></tr><tr><td align="left">fail</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用失败的回调函数</td></tr><tr><td align="left">complete</td><td align="left">Function</td><td align="left">否</td><td align="left">接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><p><strong>success返回参数说明</strong></p><table><thead><tr><th align="left">参数</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">confirm</td><td align="left">Boolean</td><td align="left">为 true 时，表示用户点击了确定按钮</td></tr><tr><td align="left">cancel</td><td align="left">Boolean</td><td align="left">为 true 时，表示用户点击了取消（用于 Android 系统区分点击蒙层关闭还是点击取消按钮关闭）</td></tr><tr><td align="left">content</td><td align="left">String</td><td align="left"><code>editable</code> 为 true 时，值为用户输入的文本</td></tr></tbody></table><p><strong>示例</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">uni.<span class="title function_">showModal</span>(&#123;</span><br><span class="line">	<span class="attr">title</span>: <span class="string">&#x27;提示&#x27;</span>,</span><br><span class="line">	<span class="attr">content</span>: <span class="string">&#x27;这是一个模态弹窗&#x27;</span>,</span><br><span class="line">	<span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span> (res.<span class="property">confirm</span>) &#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;用户点击确定&#x27;</span>);</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.<span class="property">cancel</span>) &#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;用户点击取消&#x27;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者:</span> <span class="post-copyright-info"><a href="https://www.sanye.blog">三叶sanye</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接:</span> <span class="post-copyright-info"><a href="https://www.sanye.blog/posts/e19785da.html">https://www.sanye.blog/posts/e19785da.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://www.sanye.blog" target="_blank">三叶的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/uniapp/">uniapp</a></div><div class="post-share"><div class="social-share" data-image="/images/cover/%E4%BA%91%E6%B9%96%E5%B0%91%E5%A5%B3.jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://unpkg.com/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://unpkg.com/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/8b27fabc.html" title="vue"><img class="cover" src="/images/cover/preview.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">vue</div></div><div class="info-2"><div class="info-item-1">关于vue的绝大部分知识点都在前端面试—vue部分 | 三叶的博客这篇文章中讲了，这里就说说基础语法 关于vue的绝大部分知识点都在前端面试—vue部分 | 三叶的博客这篇文章中讲了，这里就说说基础语法 Vue2插值表达式利用表达式进行插值，渲染数据到页面中 123&lt;h3&gt;&#123;&#123; title &#125;&#125;&lt;/h3&gt;&lt;p&gt;&#123;&#123;nickname.toUppercase()&#125;&#125;&lt;/p&gt;&lt;p&gt;&#123;&#123;age &gt;= 18 ?&#x27;成年’:&#x27;未成年&#x27;&#125;&#125;&lt;/p&gt; 注意：不能写到标签内部，表达式涉及到的数据必须存在。 指令带有v-前缀的特殊标签属性，Vue会根据不同的【指令】，针对标签实现不同的【功能】 v-html设置元素的innerHTML v-if&#x2F;v-show用来控制元素显示隐藏。 v-show&#x3D;”表达式”，表达式值true显示，...</div></div></div></a><a class="pagination-related" href="/posts/4618cb0a.html" title="微信小程序"><img class="cover" src="/images/cover/violet.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">微信小程序</div></div><div class="info-2"><div class="info-item-1">微信小程序有自己开发框架，并且和我们熟悉的vue或者react框架的语法，api区别还是蛮大的，学习成本不低，个人不推荐花太多时间去学习，更推荐uni-app（使用vue的语法开发web应用并多端发布）这类的框架，使用我们熟悉的框架语法开发，还能轻松实现多端发布。当然，wx小程序的知识中也有许多是通用的。 说说你对微信小程序的理解？优缺点？是什么2017年，微信正式推出了小程序，允许外部开发者在微信内部运行自己的代码，开展业务 截至目前，小程序已经成为国内前端的一个重要业务，跟 Web 和手机 App 有着同等的重要性 小程序是一种不需要下载安装即可使用的应用（但实际上还是存在一个轻量级的下载和安装流程，不过用户感知不到），它实现了应用“触手可及”的梦想，用户扫一扫或者搜一下即可打开应用 也体现了“用完即走”的理念，用户不用关心是否安装太多应用的问题。应用将无处不在，随时可用，但又无需安装卸载 注意的是，除了微信小程序，还有百度小程序、微信小程序、支付宝小程序、抖音小程序，都是每个平台自己开发的，都是有针对性平台的应用程序 背景小程序并非凭空冒出来的⼀个概念，当微信中的...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/%E4%B8%89%E5%8F%B6.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">三叶sanye</div><div class="author-info-description">记录学习，分享知识</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">24</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="https://space.bilibili.com/660655866?spm_id_from=333.1007.0.0" rel="external nofollow noreferrer" target="_blank" title="Bilibli"><i class="fa-brands fa-bilibili" style="color:#74c0fc"></i></a><a class="social-icon" href="https://github.com/syhy" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="mailto:3519450570@qq.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">笔记主要自用，希望也能帮到你😀</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFuni-app"><span class="toc-number">1.</span> <span class="toc-text">什么是uni-app</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HBuilderX"><span class="toc-number">2.</span> <span class="toc-text">HBuilderX</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE"><span class="toc-number">2.1.</span> <span class="toc-text">基本配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAuni-app%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.2.</span> <span class="toc-text">创建一个uni-app项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8Cuni-app"><span class="toc-number">2.3.</span> <span class="toc-text">运行uni-app</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E5%B8%83uni-app"><span class="toc-number">2.4.</span> <span class="toc-text">发布uni-app</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E4%B8%BA%E5%8E%9F%E7%94%9FApp"><span class="toc-number">2.4.1.</span> <span class="toc-text">打包为原生App</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E4%B8%BAWeb%E7%BD%91%E7%AB%99"><span class="toc-number">2.4.2.</span> <span class="toc-text">发布为Web网站</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E4%B8%BA%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.4.3.</span> <span class="toc-text">发布为微信小程序</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-number">3.</span> <span class="toc-text">项目结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#page-json"><span class="toc-number">3.1.</span> <span class="toc-text">page.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#static%E7%9B%AE%E5%BD%95"><span class="toc-number">3.2.</span> <span class="toc-text">static目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#uni-scss"><span class="toc-number">3.3.</span> <span class="toc-text">uni.scss</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#main-js"><span class="toc-number">3.4.</span> <span class="toc-text">main.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#App-vue"><span class="toc-number">3.5.</span> <span class="toc-text">App.vue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2"><span class="toc-number">4.</span> <span class="toc-text">页面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#nvue"><span class="toc-number">4.1.</span> <span class="toc-text">nvue</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#weex"><span class="toc-number">4.1.1.</span> <span class="toc-text">weex</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nvue%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%94%9F%E6%B8%B2%E6%9F%93%EF%BC%9F"><span class="toc-number">4.1.2.</span> <span class="toc-text">nvue如何实现原生渲染？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">4.1.3.</span> <span class="toc-text">应用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B"><span class="toc-number">4.1.4.</span> <span class="toc-text">快速上手</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%BB%BA%E9%A1%B5%E9%9D%A2"><span class="toc-number">4.2.</span> <span class="toc-text">新建页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E9%A1%B5%E9%9D%A2"><span class="toc-number">4.3.</span> <span class="toc-text">删除页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E6%94%B9%E5%90%8D"><span class="toc-number">4.4.</span> <span class="toc-text">页面改名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90"><span class="toc-number">4.5.</span> <span class="toc-text">页面文件结构分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">4.6.</span> <span class="toc-text">页面生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#onShow%E5%92%8ConHide"><span class="toc-number">4.6.1.</span> <span class="toc-text">onShow和onHide</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#onLoad"><span class="toc-number">4.6.2.</span> <span class="toc-text">onLoad</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#onReachBottom"><span class="toc-number">4.6.3.</span> <span class="toc-text">onReachBottom</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#uni-app%E7%BB%84%E6%88%90%E5%92%8C%E8%B7%A8%E7%AB%AF%E5%8E%9F%E7%90%86"><span class="toc-number">5.</span> <span class="toc-text">uni-app组成和跨端原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E6%88%90"><span class="toc-number">5.1.</span> <span class="toc-text">组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E7%AB%AF%E5%8E%9F%E7%90%86"><span class="toc-number">5.2.</span> <span class="toc-text">跨端原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E5%99%A8"><span class="toc-number">5.2.1.</span> <span class="toc-text">编译器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E7%8E%AF%E5%A2%83"><span class="toc-number">5.2.2.</span> <span class="toc-text">运行时环境</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E5%B1%82%E5%92%8C%E6%B8%B2%E6%9F%93%E5%B1%82%E5%88%86%E7%A6%BB"><span class="toc-number">6.</span> <span class="toc-text">逻辑层和渲染层分离</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E5%B1%82%E8%AF%A6%E8%A7%A3"><span class="toc-number">6.1.</span> <span class="toc-text">逻辑层详解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E5%B1%82%E8%AF%A6%E8%A7%A3"><span class="toc-number">6.2.</span> <span class="toc-text">视图层详解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E5%B1%82%E5%92%8C%E8%A7%86%E5%9B%BE%E5%B1%82%E5%88%86%E7%A6%BB%E7%9A%84%E5%88%A9%E4%B8%8E%E5%BC%8A"><span class="toc-number">6.3.</span> <span class="toc-text">逻辑层和视图层分离的利与弊</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js%E8%AF%AD%E6%B3%95"><span class="toc-number">7.</span> <span class="toc-text">js语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8js%E4%B8%8E%E6%A0%87%E5%87%86js"><span class="toc-number">7.1.</span> <span class="toc-text">浏览器js与标准js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6-%E6%94%AF%E6%8C%81"><span class="toc-number">7.2.</span> <span class="toc-text">ES6 支持</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#App%E7%AB%AF"><span class="toc-number">7.3.</span> <span class="toc-text">App端</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Android%E5%B9%B3%E5%8F%B0"><span class="toc-number">7.3.1.</span> <span class="toc-text">Android平台</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#iOS%E5%B9%B3%E5%8F%B0"><span class="toc-number">7.3.2.</span> <span class="toc-text">iOS平台</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">7.3.3.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#css%E8%AF%AD%E6%B3%95"><span class="toc-number">8.</span> <span class="toc-text">css语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%99%A8%E6%94%AF%E6%8C%81"><span class="toc-number">8.1.</span> <span class="toc-text">处理器支持</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%BA%E5%AF%B8%E5%8D%95%E4%BD%8D"><span class="toc-number">8.2.</span> <span class="toc-text">尺寸单位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E5%BC%8F%E5%AF%BC%E5%85%A5"><span class="toc-number">8.3.</span> <span class="toc-text">样式导入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-number">8.4.</span> <span class="toc-text">选择器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E6%A0%B7%E5%BC%8F%E4%B8%8E%E5%B1%80%E9%83%A8%E6%A0%B7%E5%BC%8F"><span class="toc-number">8.5.</span> <span class="toc-text">全局样式与局部样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#css%E5%8F%98%E9%87%8F"><span class="toc-number">8.6.</span> <span class="toc-text">css变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87"><span class="toc-number">8.7.</span> <span class="toc-text">背景图片</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6"><span class="toc-number">9.</span> <span class="toc-text">组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6"><span class="toc-number">9.1.</span> <span class="toc-text">自定义组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E7%BB%84%E4%BB%B6"><span class="toc-number">9.2.</span> <span class="toc-text">下载组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6"><span class="toc-number">9.3.</span> <span class="toc-text">常用组件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#api"><span class="toc-number">10.</span> <span class="toc-text">api</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">10.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#API-Promise-%E5%8C%96"><span class="toc-number">10.2.</span> <span class="toc-text">API Promise 化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82"><span class="toc-number">10.3.</span> <span class="toc-text">网络请求</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-request-OBJECT"><span class="toc-number">10.3.1.</span> <span class="toc-text">uni.request(OBJECT)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E8%B7%AF%E7%94%B1"><span class="toc-number">10.4.</span> <span class="toc-text">页面路由</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-navigateTo-OBJECT"><span class="toc-number">10.4.1.</span> <span class="toc-text">uni.navigateTo(OBJECT)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-navigateBack-OBJECT"><span class="toc-number">10.4.2.</span> <span class="toc-text">uni.navigateBack(OBJECT)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-redirectTo-OBJECT"><span class="toc-number">10.4.3.</span> <span class="toc-text">uni.redirectTo(OBJECT)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-reLaunch-OBJECT"><span class="toc-number">10.4.4.</span> <span class="toc-text">uni.reLaunch(OBJECT)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-switchTab-OBJECT"><span class="toc-number">10.4.5.</span> <span class="toc-text">uni.switchTab(OBJECT)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AA%92%E4%BD%93"><span class="toc-number">10.5.</span> <span class="toc-text">媒体</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-chooseImage-OBJECT"><span class="toc-number">10.5.1.</span> <span class="toc-text">uni.chooseImage(OBJECT)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-previewImage"><span class="toc-number">10.5.2.</span> <span class="toc-text">uni.previewImage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-closePreviewImage-OBJECT"><span class="toc-number">10.5.3.</span> <span class="toc-text">uni.closePreviewImage(OBJECT)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-getImageInfo-OBJECT"><span class="toc-number">10.5.4.</span> <span class="toc-text">uni.getImageInfo(OBJECT)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-saveImageToPhotosAlbum-OBJECT"><span class="toc-number">10.5.5.</span> <span class="toc-text">uni.saveImageToPhotosAlbum(OBJECT)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6"><span class="toc-number">10.6.</span> <span class="toc-text">文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-saveFile-OBJECT"><span class="toc-number">10.6.1.</span> <span class="toc-text">uni.saveFile(OBJECT)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%95%8C%E9%9D%A2"><span class="toc-number">10.7.</span> <span class="toc-text">界面</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-showToast-OBJECT"><span class="toc-number">10.7.1.</span> <span class="toc-text">uni.showToast(OBJECT)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-hideToast"><span class="toc-number">10.7.2.</span> <span class="toc-text">uni.hideToast()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-showLoading-OBJECT"><span class="toc-number">10.7.3.</span> <span class="toc-text">uni.showLoading(OBJECT)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-hideLoading"><span class="toc-number">10.7.4.</span> <span class="toc-text">uni.hideLoading()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uni-showModal-OBJECT"><span class="toc-number">10.7.5.</span> <span class="toc-text">uni.showModal(OBJECT)</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/19656fd5.html" title="react"><img src="/images/cover/%E6%B1%9F%E5%8D%97.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="react"></a><div class="content"><a class="title" href="/posts/19656fd5.html" title="react">react</a><time datetime="2025-02-20T13:33:23.000Z" title="发表于 2025-02-20 21:33:23">2025-02-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/518e617c.html" title="git"><img src="/images/cover/dog.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="git"></a><div class="content"><a class="title" href="/posts/518e617c.html" title="git">git</a><time datetime="2025-02-09T08:07:36.000Z" title="发表于 2025-02-09 16:07:36">2025-02-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/b0415b82.html" title="前端刷题记录"><img src="/images/cover/%E6%98%9F%E7%A9%BA.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="前端刷题记录"></a><div class="content"><a class="title" href="/posts/b0415b82.html" title="前端刷题记录">前端刷题记录</a><time datetime="2025-02-09T07:04:01.000Z" title="发表于 2025-02-09 15:04:01">2025-02-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/e255a10a.html" title="计算机网络"><img src="/images/cover/maomao.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="计算机网络"></a><div class="content"><a class="title" href="/posts/e255a10a.html" title="计算机网络">计算机网络</a><time datetime="2025-02-07T15:08:21.000Z" title="发表于 2025-02-07 23:08:21">2025-02-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/4b0178e0.html" title="数据结构与算法"><img src="/images/cover/%E7%A7%98%E5%AF%86%E9%A3%8E%E6%99%AF.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="数据结构与算法"></a><div class="content"><a class="title" href="/posts/4b0178e0.html" title="数据结构与算法">数据结构与算法</a><time datetime="2025-02-07T14:48:29.000Z" title="发表于 2025-02-07 22:48:29">2025-02-07</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(/images/cover/1.png)"><div id="footer-wrap"><div class="footer_custom_text"><div id="sanye"><svg class="icon" aria-hidden="true"><use href="#icon-banquan"></use></svg><span>2024 - 2025 By 三叶sanye</span><svg class="icon" aria-hidden="true"><use href="#icon-sanyecao"></use></svg></div><div id="runtime"></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://unpkg.com/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"></div><script src="/js/time.js"></script><script src="/js/iconfont.js"></script><script defer id="ribbon" src="https://unpkg.com/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zindex="-1" mobile="false" data-click="false"></script><script src="https://unpkg.com/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script id="click-heart" src="https://unpkg.com/butterfly-extsrc/dist/click-heart.min.js" async mobile="false"></script><script async data-pjax src="/js/busuanzi.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,log:!1,display:{position:"left",width:120,height:240},mobile:{show:!0},react:{opacity:.7}})</script></body></html>